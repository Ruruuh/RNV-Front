import{_ as E,d as P,g as S,u as V,h as d,r as C,o as l,c as u,a as o,i as f,v as h,j as k,b as L,w as B,k as I,p as M,e as N,f as U}from"./index.1b6326c0.js";import{n as c}from"./nprogress.af06dfa6.js";const _=t=>(M("data-v-30081bbc"),t=t(),N(),t),z={class:"login"},D=_(()=>o("div",{class:"login__back-icon"},null,-1)),q=_(()=>o("div",{class:"login__back-copy"},"go back",-1)),T=[D,q],j=_(()=>o("div",{class:"login__header"},"Login.",-1)),R=["onSubmit"],A={key:0,class:"error"},F={key:1,class:"error"},G=U("Login"),H=P({__name:"EntryLogin",setup(t){const w=S(),p=V(),n=d(""),r=d(""),m=d(!1),g=d(!1);function x(){p.go(-1)}function v(s){m.value=s}function b(s){g.value=s}async function y(){var i,a;c.start(),v(!1),b(!1);const s={email:n.value,password:r.value},e=await w.login(s);if(e){if((i=e.message)!=null&&i.includes("User")){v(!0),c.done();return}else if((a=e.message)!=null&&a.includes("Password")){b(!0),c.done();return}}n.value="",r.value="",c.done(),p.push("home")}return(s,e)=>{const i=C("base-button");return l(),u("section",z,[o("div",{onClick:x,class:"login__back"},T),j,o("form",{onSubmit:I(y,["prevent"]),class:"login__form"},[f(o("input",{type:"text",placeholder:"Email","onUpdate:modelValue":e[0]||(e[0]=a=>n.value=a),required:""},null,512),[[h,n.value]]),m.value?(l(),u("div",A,"Email does not exist. Please register.")):k("",!0),f(o("input",{type:"password",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=a=>r.value=a),required:""},null,512),[[h,r.value]]),g.value?(l(),u("div",F,"Password did not match the email used. Please try again.")):k("",!0),L(i,{type:"submit",mode:"dark"},{default:B(()=>[G]),_:1})],40,R)])}}});var O=E(H,[["__scopeId","data-v-30081bbc"]]);export{O as default};
