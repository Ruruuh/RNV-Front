import{z as ll,_ as Vo,d as Mi,s as zr,h as Bo,r as Wo,o as Ti,c as $i,a as C,i as et,v as nt,q as rt,A as it,b as Tn,w as Xo,p as Go,e as Zo,f as Qo,g as dl,n as jo,y as hl,D as pl}from"./index.af7eaf7e.js";import{n as ma}from"./nprogress.af06dfa6.js";const Ko=ll({id:"forecast",state:()=>({startDate:null,endDate:null,testEmployees:0,testDays:0,qOneLower:0,qOneUpper:0,qTwoLower:0,qTwoUpper:0,qThreeLower:0,qThreeUpper:0,qFourLower:0,qFourUpper:0,actualStart:null,actualEnd:null,actualEmployees:0,tickets:null})}),bl=(t,e)=>{let n=[];const r=new Date(new Date(t).setUTCHours(0,0,0,0)),i=new Date(new Date(e).setUTCHours(0,0,0,0)),a=new Date(r.getTime());for(;a<i;){let o=new Date(a);n.push(o.toISOString()),a.setDate(a.getDate()+1)}return n},Jo=(t,e)=>{const n=bl(t,e),r=[];return n.forEach(i=>{r.push(i.substring(5,10))}),r},Mr=(t,e)=>(t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t),_l=(t,e,n)=>t<=3/12?{lowerLimit:e.qOneLower*n/100,upperLimit:e.qOneUpper*n/100}:t>3/12&&t<=6/12?{lowerLimit:e.qTwoLower*n/100,upperLimit:e.qTwoUpper*n/100}:t>6/12&&t<=9/12?{lowerLimit:e.qThreeLower*n/100,upperLimit:e.qThreeUpper*n/100}:{lowerLimit:e.qFourLower*n/100,upperLimit:e.qFourUpper*n/100},gl=(t,e,n)=>{const r=[];console.log(t,e,n);for(let i=0;i<n;i++){const a=.08333333333333333*Mr(1,12),o=1/31*Mr(1,31),f=_l(a,t,e),c=1/e*Mr(f.lowerLimit,f.upperLimit);console.log(c),r.push({input:[a,o],output:[c]})}return r},ml=(t,e)=>{const n={};t.forEach(o=>{const f=o.createdAt.toString().substring(5,7),c=o.createdAt.toString().substring(8,10),s=f+c;n[s]?n[s]+=1:n[s]=1});const r=[],i=Object.keys(n);let a=0;return i.forEach(o=>{(a===0||n[o]>a)&&(a=n[o])}),i.forEach(o=>{const f=o.substring(0,2),c=o.substring(2,4);r.push({input:[parseInt(f)/12,parseInt(c)/31],output:[n[o]/e]})}),r};function xt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tn(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ki(t){let e,n,r;t.length!==2?(e=xt,n=(f,c)=>xt(t(f),c),r=(f,c)=>t(f)-c):(e=t===xt||t===tn?t:yl,n=t,r=t);function i(f,c,s=0,u=f.length){if(s<u){if(e(c,c)!==0)return u;do{const l=s+u>>>1;n(f[l],c)<0?s=l+1:u=l}while(s<u)}return s}function a(f,c,s=0,u=f.length){if(s<u){if(e(c,c)!==0)return u;do{const l=s+u>>>1;n(f[l],c)<=0?s=l+1:u=l}while(s<u)}return s}function o(f,c,s=0,u=f.length){const l=i(f,c,s,u-1);return l>s&&r(f[l-1],c)>-r(f[l],c)?l-1:l}return{left:i,center:o,right:a}}function yl(){return 0}function tf(t){return t===null?NaN:+t}function*wl(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const vl=ki(xt),xl=vl.right;ki(tf).center;var Si=xl;function Ml(t){return t.length|0}function Tl(t){return!(t>0)}function $l(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function kl(t){return e=>t(...e)}function Sl(...t){const e=typeof t[t.length-1]=="function"&&kl(t.pop());t=t.map($l);const n=t.map(Ml),r=t.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(Tl))return a;for(;;){a.push(i.map((f,c)=>t[c][f]));let o=r;for(;++i[o]===n[o];){if(o===0)return e?a.map(e):a;i[o--]=0}}}function ef(t,e){let n=0,r,i=0,a=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));else{let o=-1;for(let f of t)(f=e(f,++o,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,a+=r*(f-i))}if(n>1)return a/(n-1)}function Cl(t,e){const n=ef(t,e);return n&&Math.sqrt(n)}function Ve(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class Me extends Map{constructor(e,n=af){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Vr(this,e))}has(e){return super.has(Vr(this,e))}set(e,n){return super.set(nf(this,e),n)}delete(e){return super.delete(rf(this,e))}}class Ci extends Set{constructor(e,n=af){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(Vr(this,e))}add(e){return super.add(nf(this,e))}delete(e){return super.delete(rf(this,e))}}function Vr({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function nf({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function rf({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function af(t){return t!==null&&typeof t=="object"?t.valueOf():t}function $n(t){return t}function Al(t,...e){return Ai(t,$n,$n,e)}function of(t,...e){return Ai(t,Array.from,$n,e)}function Nl(t,e,...n){return Ai(t,$n,e,n)}function Ai(t,e,n,r){return function i(a,o){if(o>=r.length)return n(a);const f=new Me,c=r[o++];let s=-1;for(const u of a){const l=c(u,++s,a),d=f.get(l);d?d.push(u):f.set(l,[u])}for(const[u,l]of f)f.set(u,i(l,o));return e(f)}(t,0)}function Dl(t,e){return Array.from(e,n=>t[n])}function ff(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,a)=>a);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,a)=>{for(const o of e){const f=kn(o[i],o[a]);if(f)return f}})):(n=t.map(n),r.sort((i,a)=>kn(n[i],n[a]))),Dl(t,r)}return t.sort(cf(n))}function cf(t=xt){if(t===xt)return kn;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function kn(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}var Br=Math.sqrt(50),Wr=Math.sqrt(10),Xr=Math.sqrt(2);function Sn(t,e,n){var r,i=-1,a,o,f;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),(f=sf(t,e,n))===0||!isFinite(f))return[];if(f>0){let c=Math.round(t/f),s=Math.round(e/f);for(c*f<t&&++c,s*f>e&&--s,o=new Array(a=s-c+1);++i<a;)o[i]=(c+i)*f}else{f=-f;let c=Math.round(t*f),s=Math.round(e*f);for(c/f<t&&++c,s/f>e&&--s,o=new Array(a=s-c+1);++i<a;)o[i]=(c+i)/f}return r&&o.reverse(),o}function sf(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=Br?10:a>=Wr?5:a>=Xr?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Br?10:a>=Wr?5:a>=Xr?2:1)}function Gr(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=Br?i*=10:a>=Wr?i*=5:a>=Xr&&(i*=2),e<t?-i:i}function Bt(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function El(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function Be(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Ul(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function uf(t,e,n=0,r=t.length-1,i){for(i=i===void 0?kn:cf(i);r>n;){if(r-n>600){const c=r-n+1,s=e-n+1,u=Math.log(c),l=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*l*(c-l)/c)*(s-c/2<0?-1:1),h=Math.max(n,Math.floor(e-s*l/c+d)),b=Math.min(r,Math.floor(e+(c-s)*l/c+d));uf(t,e,h,b,i)}const a=t[e];let o=n,f=r;for(Oe(t,n,e),i(t[r],a)>0&&Oe(t,n,r);o<f;){for(Oe(t,o,f),++o,--f;i(t[o],a)<0;)++o;for(;i(t[f],a)>0;)--f}i(t[n],a)===0?Oe(t,n,f):(++f,Oe(t,f,r)),f<=e&&(n=f+1),e<=f&&(r=f-1)}return t}function Oe(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Cn(t,e,n){if(t=Float64Array.from(wl(t,n)),!!(r=t.length)){if((e=+e)<=0||r<2)return Be(t);if(e>=1)return Bt(t);var r,i=(r-1)*e,a=Math.floor(i),o=Bt(uf(t,a).subarray(0,a+1)),f=Be(t.subarray(a+1));return o+(f-o)*(i-a)}}function Ll(t,e,n=tf){if(!!(r=t.length)){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),f=+n(t[a+1],a+1,t);return o+(f-o)*(i-a)}}function Ol(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function Zr(t,e){return Cn(t,.5,e)}function Il(t,e){const n=new Me;if(e===void 0)for(let a of t)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let o of t)(o=e(o,++a,t))!=null&&o>=o&&n.set(o,(n.get(o)||0)+1)}let r,i=0;for(const[a,o]of n)o>i&&(i=o,r=a);return r}function Rl(t,e=ql){const n=[];let r,i=!1;for(const a of t)i&&n.push(e(r,a)),r=a,i=!0;return n}function ql(t,e){return[t,e]}function lf(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function df(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function An(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Fl(t,...e){t=new Ci(t);for(const n of e)for(const r of n)t.delete(r);return t}function Pl(t){return t}var mn=1,yn=2,Qr=3,Ye=4,ya=1e-6;function Yl(t){return"translate("+t+",0)"}function Hl(t){return"translate(0,"+t+")"}function zl(t){return e=>+t(e)}function Vl(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Bl(){return!this.__axis}function Qn(t,e){var n=[],r=null,i=null,a=6,o=6,f=3,c=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,s=t===mn||t===Ye?-1:1,u=t===Ye||t===yn?"x":"y",l=t===mn||t===Qr?Yl:Hl;function d(h){var b=r==null?e.ticks?e.ticks.apply(e,n):e.domain():r,p=i==null?e.tickFormat?e.tickFormat.apply(e,n):Pl:i,g=Math.max(a,0)+f,m=e.range(),w=+m[0]+c,_=+m[m.length-1]+c,T=(e.bandwidth?Vl:zl)(e.copy(),c),v=h.selection?h.selection():h,x=v.selectAll(".domain").data([null]),k=v.selectAll(".tick").data(b,e).order(),U=k.exit(),A=k.enter().append("g").attr("class","tick"),F=k.select("line"),$=k.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),k=k.merge(A),F=F.merge(A.append("line").attr("stroke","currentColor").attr(u+"2",s*a)),$=$.merge(A.append("text").attr("fill","currentColor").attr(u,s*g).attr("dy",t===mn?"0em":t===Qr?"0.71em":"0.32em")),h!==v&&(x=x.transition(h),k=k.transition(h),F=F.transition(h),$=$.transition(h),U=U.transition(h).attr("opacity",ya).attr("transform",function(I){return isFinite(I=T(I))?l(I+c):this.getAttribute("transform")}),A.attr("opacity",ya).attr("transform",function(I){var z=this.parentNode.__axis;return l((z&&isFinite(z=z(I))?z:T(I))+c)})),U.remove(),x.attr("d",t===Ye||t===yn?o?"M"+s*o+","+w+"H"+c+"V"+_+"H"+s*o:"M"+c+","+w+"V"+_:o?"M"+w+","+s*o+"V"+c+"H"+_+"V"+s*o:"M"+w+","+c+"H"+_),k.attr("opacity",1).attr("transform",function(I){return l(T(I)+c)}),F.attr(u+"2",s*a),$.attr(u,s*g).text(p),v.filter(Bl).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===yn?"start":t===Ye?"end":"middle"),v.each(function(){this.__axis=T})}return d.scale=function(h){return arguments.length?(e=h,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(a=o=+h,d):a},d.tickSizeInner=function(h){return arguments.length?(a=+h,d):a},d.tickSizeOuter=function(h){return arguments.length?(o=+h,d):o},d.tickPadding=function(h){return arguments.length?(f=+h,d):f},d.offset=function(h){return arguments.length?(c=+h,d):c},d}function Wl(t){return Qn(mn,t)}function Xl(t){return Qn(yn,t)}function hf(t){return Qn(Qr,t)}function Gl(t){return Qn(Ye,t)}var Zl={value:()=>{}};function pf(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new wn(n)}function wn(t){this._=t}function Ql(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}wn.prototype=pf.prototype={constructor:wn,on:function(t,e){var n=this._,r=Ql(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=jl(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=wa(n[i],t.name,e);else if(e==null)for(i in n)n[i]=wa(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new wn(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function jl(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function wa(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Zl,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var jr="http://www.w3.org/1999/xhtml",Nn={svg:"http://www.w3.org/2000/svg",xhtml:jr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function jn(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Nn.hasOwnProperty(e)?{space:Nn[e],local:t}:t}function Kl(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===jr&&e.documentElement.namespaceURI===jr?e.createElement(t):e.createElementNS(n,t)}}function Jl(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ni(t){var e=jn(t);return(e.local?Jl:Kl)(e)}function td(){}function Di(t){return t==null?td:function(){return this.querySelector(t)}}function ed(t){typeof t!="function"&&(t=Di(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,f=r[i]=new Array(o),c,s,u=0;u<o;++u)(c=a[u])&&(s=t.call(c,c.__data__,u,a))&&("__data__"in c&&(s.__data__=c.__data__),f[u]=s);return new ut(r,this._parents)}function nd(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function rd(){return[]}function bf(t){return t==null?rd:function(){return this.querySelectorAll(t)}}function id(t){return function(){return nd(t.apply(this,arguments))}}function ad(t){typeof t=="function"?t=id(t):t=bf(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],f=o.length,c,s=0;s<f;++s)(c=o[s])&&(r.push(t.call(c,c.__data__,s,o)),i.push(c));return new ut(r,i)}function _f(t){return function(){return this.matches(t)}}function gf(t){return function(e){return e.matches(t)}}var od=Array.prototype.find;function fd(t){return function(){return od.call(this.children,t)}}function cd(){return this.firstElementChild}function sd(t){return this.select(t==null?cd:fd(typeof t=="function"?t:gf(t)))}var ud=Array.prototype.filter;function ld(){return Array.from(this.children)}function dd(t){return function(){return ud.call(this.children,t)}}function hd(t){return this.selectAll(t==null?ld:dd(typeof t=="function"?t:gf(t)))}function pd(t){typeof t!="function"&&(t=_f(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,f=r[i]=[],c,s=0;s<o;++s)(c=a[s])&&t.call(c,c.__data__,s,a)&&f.push(c);return new ut(r,this._parents)}function mf(t){return new Array(t.length)}function bd(){return new ut(this._enter||this._groups.map(mf),this._parents)}function Dn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Dn.prototype={constructor:Dn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function _d(t){return function(){return t}}function gd(t,e,n,r,i,a){for(var o=0,f,c=e.length,s=a.length;o<s;++o)(f=e[o])?(f.__data__=a[o],r[o]=f):n[o]=new Dn(t,a[o]);for(;o<c;++o)(f=e[o])&&(i[o]=f)}function md(t,e,n,r,i,a,o){var f,c,s=new Map,u=e.length,l=a.length,d=new Array(u),h;for(f=0;f<u;++f)(c=e[f])&&(d[f]=h=o.call(c,c.__data__,f,e)+"",s.has(h)?i[f]=c:s.set(h,c));for(f=0;f<l;++f)h=o.call(t,a[f],f,a)+"",(c=s.get(h))?(r[f]=c,c.__data__=a[f],s.delete(h)):n[f]=new Dn(t,a[f]);for(f=0;f<u;++f)(c=e[f])&&s.get(d[f])===c&&(i[f]=c)}function yd(t){return t.__data__}function wd(t,e){if(!arguments.length)return Array.from(this,yd);var n=e?md:gd,r=this._parents,i=this._groups;typeof t!="function"&&(t=_d(t));for(var a=i.length,o=new Array(a),f=new Array(a),c=new Array(a),s=0;s<a;++s){var u=r[s],l=i[s],d=l.length,h=vd(t.call(u,u&&u.__data__,s,r)),b=h.length,p=f[s]=new Array(b),g=o[s]=new Array(b),m=c[s]=new Array(d);n(u,l,p,g,m,h,e);for(var w=0,_=0,T,v;w<b;++w)if(T=p[w]){for(w>=_&&(_=w+1);!(v=g[_])&&++_<b;);T._next=v||null}}return o=new ut(o,r),o._enter=f,o._exit=c,o}function vd(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function xd(){return new ut(this._exit||this._groups.map(mf),this._parents)}function Md(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function Td(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),f=new Array(i),c=0;c<o;++c)for(var s=n[c],u=r[c],l=s.length,d=f[c]=new Array(l),h,b=0;b<l;++b)(h=s[b]||u[b])&&(d[b]=h);for(;c<i;++c)f[c]=n[c];return new ut(f,this._parents)}function $d(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function kd(t){t||(t=Sd);function e(l,d){return l&&d?t(l.__data__,d.__data__):!l-!d}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],f=o.length,c=i[a]=new Array(f),s,u=0;u<f;++u)(s=o[u])&&(c[u]=s);c.sort(e)}return new ut(i,this._parents).order()}function Sd(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Cd(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ad(){return Array.from(this)}function Nd(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Dd(){let t=0;for(const e of this)++t;return t}function Ed(){return!this.node()}function Ud(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,f;a<o;++a)(f=i[a])&&t.call(f,f.__data__,a,i);return this}function Ld(t){return function(){this.removeAttribute(t)}}function Od(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Id(t,e){return function(){this.setAttribute(t,e)}}function Rd(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function qd(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Fd(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Pd(t,e){var n=jn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Od:Ld:typeof e=="function"?n.local?Fd:qd:n.local?Rd:Id)(n,e))}function yf(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Yd(t){return function(){this.style.removeProperty(t)}}function Hd(t,e,n){return function(){this.style.setProperty(t,e,n)}}function zd(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Vd(t,e,n){return arguments.length>1?this.each((e==null?Yd:typeof e=="function"?zd:Hd)(t,e,n==null?"":n)):Te(this.node(),t)}function Te(t,e){return t.style.getPropertyValue(e)||yf(t).getComputedStyle(t,null).getPropertyValue(e)}function Bd(t){return function(){delete this[t]}}function Wd(t,e){return function(){this[t]=e}}function Xd(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Gd(t,e){return arguments.length>1?this.each((e==null?Bd:typeof e=="function"?Xd:Wd)(t,e)):this.node()[t]}function wf(t){return t.trim().split(/^|\s+/)}function Ei(t){return t.classList||new vf(t)}function vf(t){this._node=t,this._names=wf(t.getAttribute("class")||"")}vf.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function xf(t,e){for(var n=Ei(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Mf(t,e){for(var n=Ei(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Zd(t){return function(){xf(this,t)}}function Qd(t){return function(){Mf(this,t)}}function jd(t,e){return function(){(e.apply(this,arguments)?xf:Mf)(this,t)}}function Kd(t,e){var n=wf(t+"");if(arguments.length<2){for(var r=Ei(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?jd:e?Zd:Qd)(n,e))}function Jd(){this.textContent=""}function t0(t){return function(){this.textContent=t}}function e0(t){return function(){var e=t.apply(this,arguments);this.textContent=e==null?"":e}}function n0(t){return arguments.length?this.each(t==null?Jd:(typeof t=="function"?e0:t0)(t)):this.node().textContent}function r0(){this.innerHTML=""}function i0(t){return function(){this.innerHTML=t}}function a0(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e==null?"":e}}function o0(t){return arguments.length?this.each(t==null?r0:(typeof t=="function"?a0:i0)(t)):this.node().innerHTML}function f0(){this.nextSibling&&this.parentNode.appendChild(this)}function c0(){return this.each(f0)}function s0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function u0(){return this.each(s0)}function l0(t){var e=typeof t=="function"?t:Ni(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function d0(){return null}function h0(t,e){var n=typeof t=="function"?t:Ni(t),r=e==null?d0:typeof e=="function"?e:Di(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function p0(){var t=this.parentNode;t&&t.removeChild(this)}function b0(){return this.each(p0)}function _0(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function g0(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function m0(t){return this.select(t?g0:_0)}function y0(t){return arguments.length?this.property("__data__",t):this.node().__data__}function w0(t){return function(e){t.call(this,e,this.__data__)}}function v0(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function x0(t){return function(){var e=this.__on;if(!!e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function M0(t,e,n){return function(){var r=this.__on,i,a=w0(e);if(r){for(var o=0,f=r.length;o<f;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function T0(t,e,n){var r=v0(t+""),i,a=r.length,o;if(arguments.length<2){var f=this.node().__on;if(f){for(var c=0,s=f.length,u;c<s;++c)for(i=0,u=f[c];i<a;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(f=e?M0:x0,i=0;i<a;++i)this.each(f(r[i],e,n));return this}function Tf(t,e,n){var r=yf(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function $0(t,e){return function(){return Tf(this,t,e)}}function k0(t,e){return function(){return Tf(this,t,e.apply(this,arguments))}}function S0(t,e){return this.each((typeof e=="function"?k0:$0)(t,e))}function*C0(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var $f=[null];function ut(t,e){this._groups=t,this._parents=e}function en(){return new ut([[document.documentElement]],$f)}function A0(){return this}ut.prototype=en.prototype={constructor:ut,select:ed,selectAll:ad,selectChild:sd,selectChildren:hd,filter:pd,data:wd,enter:bd,exit:xd,join:Md,merge:Td,selection:A0,order:$d,sort:kd,call:Cd,nodes:Ad,node:Nd,size:Dd,empty:Ed,each:Ud,attr:Pd,style:Vd,property:Gd,classed:Kd,text:n0,html:o0,raise:c0,lower:u0,append:l0,insert:h0,remove:b0,clone:m0,datum:y0,on:T0,dispatch:S0,[Symbol.iterator]:C0};function Kr(t){return typeof t=="string"?new ut([[document.querySelector(t)]],[document.documentElement]):new ut([[t]],$f)}function $t(t){return Kr(Ni(t).call(document.documentElement))}function Ee(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function nn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Kt(){}var oe=.7,$e=1/oe,ve="\\s*([+-]?\\d+)\\s*",We="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",At="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",N0=/^#([0-9a-f]{3,8})$/,D0=new RegExp(`^rgb\\(${ve},${ve},${ve}\\)$`),E0=new RegExp(`^rgb\\(${At},${At},${At}\\)$`),U0=new RegExp(`^rgba\\(${ve},${ve},${ve},${We}\\)$`),L0=new RegExp(`^rgba\\(${At},${At},${At},${We}\\)$`),O0=new RegExp(`^hsl\\(${We},${At},${At}\\)$`),I0=new RegExp(`^hsla\\(${We},${At},${At},${We}\\)$`),va={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ee(Kt,Gt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xa,formatHex:xa,formatHex8:R0,formatHsl:q0,formatRgb:Ma,toString:Ma});function xa(){return this.rgb().formatHex()}function R0(){return this.rgb().formatHex8()}function q0(){return kf(this).formatHsl()}function Ma(){return this.rgb().formatRgb()}function Gt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=N0.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ta(e):n===3?new Z(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?un(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?un(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=D0.exec(t))?new Z(e[1],e[2],e[3],1):(e=E0.exec(t))?new Z(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=U0.exec(t))?un(e[1],e[2],e[3],e[4]):(e=L0.exec(t))?un(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=O0.exec(t))?Sa(e[1],e[2]/100,e[3]/100,1):(e=I0.exec(t))?Sa(e[1],e[2]/100,e[3]/100,e[4]):va.hasOwnProperty(t)?Ta(va[t]):t==="transparent"?new Z(NaN,NaN,NaN,0):null}function Ta(t){return new Z(t>>16&255,t>>8&255,t&255,1)}function un(t,e,n,r){return r<=0&&(t=e=n=NaN),new Z(t,e,n,r)}function Ui(t){return t instanceof Kt||(t=Gt(t)),t?(t=t.rgb(),new Z(t.r,t.g,t.b,t.opacity)):new Z}function Zt(t,e,n,r){return arguments.length===1?Ui(t):new Z(t,e,n,r==null?1:r)}function Z(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Ee(Z,Zt,nn(Kt,{brighter(t){return t=t==null?$e:Math.pow($e,t),new Z(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?oe:Math.pow(oe,t),new Z(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Z(ie(this.r),ie(this.g),ie(this.b),En(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$a,formatHex:$a,formatHex8:F0,formatRgb:ka,toString:ka}));function $a(){return`#${ne(this.r)}${ne(this.g)}${ne(this.b)}`}function F0(){return`#${ne(this.r)}${ne(this.g)}${ne(this.b)}${ne((isNaN(this.opacity)?1:this.opacity)*255)}`}function ka(){const t=En(this.opacity);return`${t===1?"rgb(":"rgba("}${ie(this.r)}, ${ie(this.g)}, ${ie(this.b)}${t===1?")":`, ${t})`}`}function En(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ie(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ne(t){return t=ie(t),(t<16?"0":"")+t.toString(16)}function Sa(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new wt(t,e,n,r)}function kf(t){if(t instanceof wt)return new wt(t.h,t.s,t.l,t.opacity);if(t instanceof Kt||(t=Gt(t)),!t)return new wt;if(t instanceof wt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,f=a-i,c=(a+i)/2;return f?(e===a?o=(n-r)/f+(n<r)*6:n===a?o=(r-e)/f+2:o=(e-n)/f+4,f/=c<.5?a+i:2-a-i,o*=60):f=c>0&&c<1?0:o,new wt(o,f,c,t.opacity)}function Jr(t,e,n,r){return arguments.length===1?kf(t):new wt(t,e,n,r==null?1:r)}function wt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ee(wt,Jr,nn(Kt,{brighter(t){return t=t==null?$e:Math.pow($e,t),new wt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?oe:Math.pow(oe,t),new wt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Z(Tr(t>=240?t-240:t+120,i,r),Tr(t,i,r),Tr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new wt(Ca(this.h),ln(this.s),ln(this.l),En(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=En(this.opacity);return`${t===1?"hsl(":"hsla("}${Ca(this.h)}, ${ln(this.s)*100}%, ${ln(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ca(t){return t=(t||0)%360,t<0?t+360:t}function ln(t){return Math.max(0,Math.min(1,t||0))}function Tr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Sf=Math.PI/180,Cf=180/Math.PI,Un=18,Af=.96422,Nf=1,Df=.82521,Ef=4/29,xe=6/29,Uf=3*xe*xe,P0=xe*xe*xe;function Lf(t){if(t instanceof Nt)return new Nt(t.l,t.a,t.b,t.opacity);if(t instanceof Yt)return Of(t);t instanceof Z||(t=Ui(t));var e=Cr(t.r),n=Cr(t.g),r=Cr(t.b),i=$r((.2225045*e+.7168786*n+.0606169*r)/Nf),a,o;return e===n&&n===r?a=o=i:(a=$r((.4360747*e+.3850649*n+.1430804*r)/Af),o=$r((.0139322*e+.0971045*n+.7141733*r)/Df)),new Nt(116*i-16,500*(a-i),200*(i-o),t.opacity)}function ti(t,e,n,r){return arguments.length===1?Lf(t):new Nt(t,e,n,r==null?1:r)}function Nt(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Ee(Nt,ti,nn(Kt,{brighter(t){return new Nt(this.l+Un*(t==null?1:t),this.a,this.b,this.opacity)},darker(t){return new Nt(this.l-Un*(t==null?1:t),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=Af*kr(e),t=Nf*kr(t),n=Df*kr(n),new Z(Sr(3.1338561*e-1.6168667*t-.4906146*n),Sr(-.9787684*e+1.9161415*t+.033454*n),Sr(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function $r(t){return t>P0?Math.pow(t,1/3):t/Uf+Ef}function kr(t){return t>xe?t*t*t:Uf*(t-Ef)}function Sr(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Cr(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Y0(t){if(t instanceof Yt)return new Yt(t.h,t.c,t.l,t.opacity);if(t instanceof Nt||(t=Lf(t)),t.a===0&&t.b===0)return new Yt(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Cf;return new Yt(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ei(t,e,n,r){return arguments.length===1?Y0(t):new Yt(t,e,n,r==null?1:r)}function Yt(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Of(t){if(isNaN(t.h))return new Nt(t.l,0,0,t.opacity);var e=t.h*Sf;return new Nt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Ee(Yt,ei,nn(Kt,{brighter(t){return new Yt(this.h,this.c,this.l+Un*(t==null?1:t),this.opacity)},darker(t){return new Yt(this.h,this.c,this.l-Un*(t==null?1:t),this.opacity)},rgb(){return Of(this).rgb()}}));var If=-.14861,Li=1.78277,Oi=-.29227,Kn=-.90649,Xe=1.97294,Aa=Xe*Kn,Na=Xe*Li,Da=Li*Oi-Kn*If;function H0(t){if(t instanceof ae)return new ae(t.h,t.s,t.l,t.opacity);t instanceof Z||(t=Ui(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Da*r+Aa*e-Na*n)/(Da+Aa-Na),a=r-i,o=(Xe*(n-i)-Oi*a)/Kn,f=Math.sqrt(o*o+a*a)/(Xe*i*(1-i)),c=f?Math.atan2(o,a)*Cf-120:NaN;return new ae(c<0?c+360:c,f,i,t.opacity)}function Dt(t,e,n,r){return arguments.length===1?H0(t):new ae(t,e,n,r==null?1:r)}function ae(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ee(ae,Dt,nn(Kt,{brighter(t){return t=t==null?$e:Math.pow($e,t),new ae(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?oe:Math.pow(oe,t),new ae(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Sf,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Z(255*(e+n*(If*r+Li*i)),255*(e+n*(Oi*r+Kn*i)),255*(e+n*(Xe*r)),this.opacity)}}));function z0(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function V0(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,f=r<e-1?t[r+2]:2*a-i;return z0((n-r/e)*e,o,i,a,f)}}var Jn=t=>()=>t;function Rf(t,e){return function(n){return t+n*e}}function B0(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ii(t,e){var n=e-t;return n?Rf(t,n>180||n<-180?n-360*Math.round(n/360):n):Jn(isNaN(t)?e:t)}function W0(t){return(t=+t)==1?tt:function(e,n){return n-e?B0(e,n,t):Jn(isNaN(e)?n:e)}}function tt(t,e){var n=e-t;return n?Rf(t,n):Jn(isNaN(t)?e:t)}var fe=function t(e){var n=W0(e);function r(i,a){var o=n((i=Zt(i)).r,(a=Zt(a)).r),f=n(i.g,a.g),c=n(i.b,a.b),s=tt(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=f(u),i.b=c(u),i.opacity=s(u),i+""}}return r.gamma=t,r}(1);function X0(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),a=new Array(n),o,f;for(o=0;o<n;++o)f=Zt(e[o]),r[o]=f.r||0,i[o]=f.g||0,a[o]=f.b||0;return r=t(r),i=t(i),a=t(a),f.opacity=1,function(c){return f.r=r(c),f.g=i(c),f.b=a(c),f+""}}}var G0=X0(V0);function Z0(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Q0(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function j0(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=rn(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(f){for(o=0;o<r;++o)a[o]=i[o](f);return a}}function K0(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function J(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function J0(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=rn(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var ni=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ar=new RegExp(ni.source,"g");function th(t){return function(){return t}}function eh(t){return function(e){return t(e)+""}}function qf(t,e){var n=ni.lastIndex=Ar.lastIndex=0,r,i,a,o=-1,f=[],c=[];for(t=t+"",e=e+"";(r=ni.exec(t))&&(i=Ar.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),f[o]?f[o]+=a:f[++o]=a),(r=r[0])===(i=i[0])?f[o]?f[o]+=i:f[++o]=i:(f[++o]=null,c.push({i:o,x:J(r,i)})),n=Ar.lastIndex;return n<e.length&&(a=e.slice(n),f[o]?f[o]+=a:f[++o]=a),f.length<2?c[0]?eh(c[0].x):th(e):(e=c.length,function(s){for(var u=0,l;u<e;++u)f[(l=c[u]).i]=l.x(s);return f.join("")})}function rn(t,e){var n=typeof e,r;return e==null||n==="boolean"?Jn(e):(n==="number"?J:n==="string"?(r=Gt(e))?(e=r,fe):qf:e instanceof Gt?fe:e instanceof Date?K0:Q0(e)?Z0:Array.isArray(e)?j0:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?J0:J)(t,e)}function Ri(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Ea=180/Math.PI,ri={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ff(t,e,n,r,i,a){var o,f,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,c/=f),t*r<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Ea,skewX:Math.atan(c)*Ea,scaleX:o,scaleY:f}}var dn;function nh(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ri:Ff(e.a,e.b,e.c,e.d,e.e,e.f)}function rh(t){return t==null||(dn||(dn=document.createElementNS("http://www.w3.org/2000/svg","g")),dn.setAttribute("transform",t),!(t=dn.transform.baseVal.consolidate()))?ri:(t=t.matrix,Ff(t.a,t.b,t.c,t.d,t.e,t.f))}function Pf(t,e,n,r){function i(s){return s.length?s.pop()+" ":""}function a(s,u,l,d,h,b){if(s!==l||u!==d){var p=h.push("translate(",null,e,null,n);b.push({i:p-4,x:J(s,l)},{i:p-2,x:J(u,d)})}else(l||d)&&h.push("translate("+l+e+d+n)}function o(s,u,l,d){s!==u?(s-u>180?u+=360:u-s>180&&(s+=360),d.push({i:l.push(i(l)+"rotate(",null,r)-2,x:J(s,u)})):u&&l.push(i(l)+"rotate("+u+r)}function f(s,u,l,d){s!==u?d.push({i:l.push(i(l)+"skewX(",null,r)-2,x:J(s,u)}):u&&l.push(i(l)+"skewX("+u+r)}function c(s,u,l,d,h,b){if(s!==l||u!==d){var p=h.push(i(h)+"scale(",null,",",null,")");b.push({i:p-4,x:J(s,l)},{i:p-2,x:J(u,d)})}else(l!==1||d!==1)&&h.push(i(h)+"scale("+l+","+d+")")}return function(s,u){var l=[],d=[];return s=t(s),u=t(u),a(s.translateX,s.translateY,u.translateX,u.translateY,l,d),o(s.rotate,u.rotate,l,d),f(s.skewX,u.skewX,l,d),c(s.scaleX,s.scaleY,u.scaleX,u.scaleY,l,d),s=u=null,function(h){for(var b=-1,p=d.length,g;++b<p;)l[(g=d[b]).i]=g.x(h);return l.join("")}}}var ih=Pf(nh,"px, ","px)","deg)"),ah=Pf(rh,", ",")",")");function oh(t){return function(e,n){var r=t((e=Jr(e)).h,(n=Jr(n)).h),i=tt(e.s,n.s),a=tt(e.l,n.l),o=tt(e.opacity,n.opacity);return function(f){return e.h=r(f),e.s=i(f),e.l=a(f),e.opacity=o(f),e+""}}}var fh=oh(Ii);function ch(t,e){var n=tt((t=ti(t)).l,(e=ti(e)).l),r=tt(t.a,e.a),i=tt(t.b,e.b),a=tt(t.opacity,e.opacity);return function(o){return t.l=n(o),t.a=r(o),t.b=i(o),t.opacity=a(o),t+""}}function sh(t){return function(e,n){var r=t((e=ei(e)).h,(n=ei(n)).h),i=tt(e.c,n.c),a=tt(e.l,n.l),o=tt(e.opacity,n.opacity);return function(f){return e.h=r(f),e.c=i(f),e.l=a(f),e.opacity=o(f),e+""}}}var uh=sh(Ii);function Yf(t){return function e(n){n=+n;function r(i,a){var o=t((i=Dt(i)).h,(a=Dt(a)).h),f=tt(i.s,a.s),c=tt(i.l,a.l),s=tt(i.opacity,a.opacity);return function(u){return i.h=o(u),i.s=f(u),i.l=c(Math.pow(u,n)),i.opacity=s(u),i+""}}return r.gamma=e,r}(1)}Yf(Ii);var qi=Yf(tt);function Fi(t,e){e===void 0&&(e=t,t=rn);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var f=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[f](o-f)}}function Tt(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var ke=0,He=0,Ie=0,Hf=1e3,Ln,ze,On=0,ce=0,tr=0,Ge=typeof performance=="object"&&performance.now?performance:Date,zf=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Pi(){return ce||(zf(lh),ce=Ge.now()+tr)}function lh(){ce=0}function In(){this._call=this._time=this._next=null}In.prototype=Vf.prototype={constructor:In,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Pi():+n)+(e==null?0:+e),!this._next&&ze!==this&&(ze?ze._next=this:Ln=this,ze=this),this._call=t,this._time=n,ii()},stop:function(){this._call&&(this._call=null,this._time=1/0,ii())}};function Vf(t,e,n){var r=new In;return r.restart(t,e,n),r}function dh(){Pi(),++ke;for(var t=Ln,e;t;)(e=ce-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ke}function Ua(){ce=(On=Ge.now())+tr,ke=He=0;try{dh()}finally{ke=0,ph(),ce=0}}function hh(){var t=Ge.now(),e=t-On;e>Hf&&(tr-=e,On=t)}function ph(){for(var t,e=Ln,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Ln=n);ze=t,ii(r)}function ii(t){if(!ke){He&&(He=clearTimeout(He));var e=t-ce;e>24?(t<1/0&&(He=setTimeout(Ua,t-Ge.now()-tr)),Ie&&(Ie=clearInterval(Ie))):(Ie||(On=Ge.now(),Ie=setInterval(hh,Hf)),ke=1,zf(Ua))}}function La(t,e,n){var r=new In;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var bh=pf("start","end","cancel","interrupt"),_h=[],Bf=0,Oa=1,ai=2,vn=3,Ia=4,oi=5,xn=6;function er(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;gh(t,n,{name:e,index:r,group:i,on:bh,tween:_h,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Bf})}function Yi(t,e){var n=kt(t,e);if(n.state>Bf)throw new Error("too late; already scheduled");return n}function Et(t,e){var n=kt(t,e);if(n.state>vn)throw new Error("too late; already running");return n}function kt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function gh(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Vf(a,0,n.time);function a(s){n.state=Oa,n.timer.restart(o,n.delay,n.time),n.delay<=s&&o(s-n.delay)}function o(s){var u,l,d,h;if(n.state!==Oa)return c();for(u in r)if(h=r[u],h.name===n.name){if(h.state===vn)return La(o);h.state===Ia?(h.state=xn,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[u]):+u<e&&(h.state=xn,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[u])}if(La(function(){n.state===vn&&(n.state=Ia,n.timer.restart(f,n.delay,n.time),f(s))}),n.state=ai,n.on.call("start",t,t.__data__,n.index,n.group),n.state===ai){for(n.state=vn,i=new Array(d=n.tween.length),u=0,l=-1;u<d;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++l]=h);i.length=l+1}}function f(s){for(var u=s<n.duration?n.ease.call(null,s/n.duration):(n.timer.restart(c),n.state=oi,1),l=-1,d=i.length;++l<d;)i[l].call(t,u);n.state===oi&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=xn,n.timer.stop(),delete r[e];for(var s in r)return;delete t.__transition}}function mh(t,e){var n=t.__transition,r,i,a=!0,o;if(!!n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>ai&&r.state<oi,r.state=xn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function yh(t){return this.each(function(){mh(this,t)})}function wh(t,e){var n,r;return function(){var i=Et(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,f=r.length;o<f;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function vh(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Et(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var f={name:e,value:n},c=0,s=i.length;c<s;++c)if(i[c].name===e){i[c]=f;break}c===s&&i.push(f)}a.tween=i}}function xh(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=kt(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?wh:vh)(n,t,e))}function Hi(t,e,n){var r=t._id;return t.each(function(){var i=Et(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return kt(i,r).value[e]}}function Wf(t,e){var n;return(typeof e=="number"?J:e instanceof Gt?fe:(n=Gt(e))?(e=n,fe):qf)(t,e)}function Mh(t){return function(){this.removeAttribute(t)}}function Th(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $h(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function kh(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function Sh(t,e,n){var r,i,a;return function(){var o,f=n(this),c;return f==null?void this.removeAttribute(t):(o=this.getAttribute(t),c=f+"",o===c?null:o===r&&c===i?a:(i=c,a=e(r=o,f)))}}function Ch(t,e,n){var r,i,a;return function(){var o,f=n(this),c;return f==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),c=f+"",o===c?null:o===r&&c===i?a:(i=c,a=e(r=o,f)))}}function Ah(t,e){var n=jn(t),r=n==="transform"?ah:Wf;return this.attrTween(t,typeof e=="function"?(n.local?Ch:Sh)(n,r,Hi(this,"attr."+t,e)):e==null?(n.local?Th:Mh)(n):(n.local?kh:$h)(n,r,e))}function Nh(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Dh(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Eh(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Dh(t,a)),n}return i._value=e,i}function Uh(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Nh(t,a)),n}return i._value=e,i}function Lh(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=jn(t);return this.tween(n,(r.local?Eh:Uh)(r,e))}function Oh(t,e){return function(){Yi(this,t).delay=+e.apply(this,arguments)}}function Ih(t,e){return e=+e,function(){Yi(this,t).delay=e}}function Rh(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Oh:Ih)(e,t)):kt(this.node(),e).delay}function qh(t,e){return function(){Et(this,t).duration=+e.apply(this,arguments)}}function Fh(t,e){return e=+e,function(){Et(this,t).duration=e}}function Ph(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?qh:Fh)(e,t)):kt(this.node(),e).duration}function Yh(t,e){if(typeof e!="function")throw new Error;return function(){Et(this,t).ease=e}}function Hh(t){var e=this._id;return arguments.length?this.each(Yh(e,t)):kt(this.node(),e).ease}function zh(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Et(this,t).ease=n}}function Vh(t){if(typeof t!="function")throw new Error;return this.each(zh(this._id,t))}function Bh(t){typeof t!="function"&&(t=_f(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,f=r[i]=[],c,s=0;s<o;++s)(c=a[s])&&t.call(c,c.__data__,s,a)&&f.push(c);return new Wt(r,this._parents,this._name,this._id)}function Wh(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),f=0;f<a;++f)for(var c=e[f],s=n[f],u=c.length,l=o[f]=new Array(u),d,h=0;h<u;++h)(d=c[h]||s[h])&&(l[h]=d);for(;f<r;++f)o[f]=e[f];return new Wt(o,this._parents,this._name,this._id)}function Xh(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Gh(t,e,n){var r,i,a=Xh(e)?Yi:Et;return function(){var o=a(this,t),f=o.on;f!==r&&(i=(r=f).copy()).on(e,n),o.on=i}}function Zh(t,e){var n=this._id;return arguments.length<2?kt(this.node(),n).on.on(t):this.each(Gh(n,t,e))}function Qh(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function jh(){return this.on("end.remove",Qh(this._id))}function Kh(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Di(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var f=r[o],c=f.length,s=a[o]=new Array(c),u,l,d=0;d<c;++d)(u=f[d])&&(l=t.call(u,u.__data__,d,f))&&("__data__"in u&&(l.__data__=u.__data__),s[d]=l,er(s[d],e,n,d,s,kt(u,n)));return new Wt(a,this._parents,e,n)}function Jh(t){var e=this._name,n=this._id;typeof t!="function"&&(t=bf(t));for(var r=this._groups,i=r.length,a=[],o=[],f=0;f<i;++f)for(var c=r[f],s=c.length,u,l=0;l<s;++l)if(u=c[l]){for(var d=t.call(u,u.__data__,l,c),h,b=kt(u,n),p=0,g=d.length;p<g;++p)(h=d[p])&&er(h,e,n,p,d,b);a.push(d),o.push(u)}return new Wt(a,o,e,n)}var t1=en.prototype.constructor;function e1(){return new t1(this._groups,this._parents)}function n1(t,e){var n,r,i;return function(){var a=Te(this,t),o=(this.style.removeProperty(t),Te(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function Xf(t){return function(){this.style.removeProperty(t)}}function r1(t,e,n){var r,i=n+"",a;return function(){var o=Te(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function i1(t,e,n){var r,i,a;return function(){var o=Te(this,t),f=n(this),c=f+"";return f==null&&(c=f=(this.style.removeProperty(t),Te(this,t))),o===c?null:o===r&&c===i?a:(i=c,a=e(r=o,f))}}function a1(t,e){var n,r,i,a="style."+e,o="end."+a,f;return function(){var c=Et(this,t),s=c.on,u=c.value[a]==null?f||(f=Xf(e)):void 0;(s!==n||i!==u)&&(r=(n=s).copy()).on(o,i=u),c.on=r}}function o1(t,e,n){var r=(t+="")=="transform"?ih:Wf;return e==null?this.styleTween(t,n1(t,r)).on("end.style."+t,Xf(t)):typeof e=="function"?this.styleTween(t,i1(t,r,Hi(this,"style."+t,e))).each(a1(this._id,t)):this.styleTween(t,r1(t,r,e),n).on("end.style."+t,null)}function f1(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function c1(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&f1(t,o,n)),r}return a._value=e,a}function s1(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,c1(t,e,n==null?"":n))}function u1(t){return function(){this.textContent=t}}function l1(t){return function(){var e=t(this);this.textContent=e==null?"":e}}function d1(t){return this.tween("text",typeof t=="function"?l1(Hi(this,"text",t)):u1(t==null?"":t+""))}function h1(t){return function(e){this.textContent=t.call(this,e)}}function p1(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&h1(i)),e}return r._value=t,r}function b1(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,p1(t))}function _1(){for(var t=this._name,e=this._id,n=Gf(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],f=o.length,c,s=0;s<f;++s)if(c=o[s]){var u=kt(c,e);er(c,t,n,s,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Wt(r,this._parents,t,n)}function g1(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var f={value:o},c={value:function(){--i===0&&a()}};n.each(function(){var s=Et(this,r),u=s.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(c)),s.on=e}),i===0&&a()})}var m1=0;function Wt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Gf(){return++m1}var Rt=en.prototype;Wt.prototype={constructor:Wt,select:Kh,selectAll:Jh,selectChild:Rt.selectChild,selectChildren:Rt.selectChildren,filter:Bh,merge:Wh,selection:e1,transition:_1,call:Rt.call,nodes:Rt.nodes,node:Rt.node,size:Rt.size,empty:Rt.empty,each:Rt.each,on:Zh,attr:Ah,attrTween:Lh,style:o1,styleTween:s1,text:d1,textTween:b1,remove:jh,tween:xh,delay:Rh,duration:Ph,ease:Hh,easeVarying:Vh,end:g1,[Symbol.iterator]:Rt[Symbol.iterator]};function y1(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var w1={time:null,delay:0,duration:250,ease:y1};function v1(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function x1(t){var e,n;t instanceof Wt?(e=t._id,t=t._name):(e=Gf(),(n=w1).time=Pi(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],f=o.length,c,s=0;s<f;++s)(c=o[s])&&er(c,t,e,s,o,n||v1(c,e));return new Wt(r,this._parents,t,e)}en.prototype.interrupt=yh;en.prototype.transition=x1;const fi=Math.PI,ci=2*fi,te=1e-6,M1=ci-te;function si(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function zi(){return new si}si.prototype=zi.prototype={constructor:si,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,f=n-t,c=r-e,s=a-t,u=o-e,l=s*s+u*u;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(l>te)if(!(Math.abs(u*f-c*s)>te)||!i)this._+="L"+(this._x1=t)+","+(this._y1=e);else{var d=n-a,h=r-o,b=f*f+c*c,p=d*d+h*h,g=Math.sqrt(b),m=Math.sqrt(l),w=i*Math.tan((fi-Math.acos((b+l-p)/(2*g*m)))/2),_=w/m,T=w/g;Math.abs(_-1)>te&&(this._+="L"+(t+_*s)+","+(e+_*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>s*h)+","+(this._x1=t+T*f)+","+(this._y1=e+T*c)}},arc:function(t,e,n,r,i,a){t=+t,e=+e,n=+n,a=!!a;var o=n*Math.cos(r),f=n*Math.sin(r),c=t+o,s=e+f,u=1^a,l=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);this._x1===null?this._+="M"+c+","+s:(Math.abs(this._x1-c)>te||Math.abs(this._y1-s)>te)&&(this._+="L"+c+","+s),n&&(l<0&&(l=l%ci+ci),l>M1?this._+="A"+n+","+n+",0,1,"+u+","+(t-o)+","+(e-f)+"A"+n+","+n+",0,1,"+u+","+(this._x1=c)+","+(this._y1=s):l>te&&(this._+="A"+n+","+n+",0,"+ +(l>=fi)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};function T1(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Rn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Se(t){return t=Rn(Math.abs(t)),t?t[1]:NaN}function $1(t,e){return function(n,r){for(var i=n.length,a=[],o=0,f=t[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),a.push(n.substring(i-=f,i+f)),!((c+=f+1)>r));)f=t[o=(o+1)%t.length];return a.reverse().join(e)}}function k1(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var S1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ze(t){if(!(e=S1.exec(t)))throw new Error("invalid format: "+t);var e;return new Vi({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ze.prototype=Vi.prototype;function Vi(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Vi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function C1(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Zf;function A1(t,e){var n=Rn(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Zf=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Rn(t,Math.max(0,e+a-1))[0]}function Ra(t,e){var n=Rn(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var qa={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:T1,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ra(t*100,e),r:Ra,s:A1,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Fa(t){return t}var Pa=Array.prototype.map,Ya=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function N1(t){var e=t.grouping===void 0||t.thousands===void 0?Fa:$1(Pa.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Fa:k1(Pa.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"\u2212":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function s(l){l=Ze(l);var d=l.fill,h=l.align,b=l.sign,p=l.symbol,g=l.zero,m=l.width,w=l.comma,_=l.precision,T=l.trim,v=l.type;v==="n"?(w=!0,v="g"):qa[v]||(_===void 0&&(_=12),T=!0,v="g"),(g||d==="0"&&h==="=")&&(g=!0,d="0",h="=");var x=p==="$"?n:p==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",k=p==="$"?r:/[%p]/.test(v)?o:"",U=qa[v],A=/[defgprs%]/.test(v);_=_===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function F($){var I=x,z=k,W,Lt,lt;if(v==="c")z=U($)+z,$="";else{$=+$;var S=$<0||1/$<0;if($=isNaN($)?c:U(Math.abs($),_),T&&($=C1($)),S&&+$==0&&b!=="+"&&(S=!1),I=(S?b==="("?b:f:b==="-"||b==="("?"":b)+I,z=(v==="s"?Ya[8+Zf/3]:"")+z+(S&&b==="("?")":""),A){for(W=-1,Lt=$.length;++W<Lt;)if(lt=$.charCodeAt(W),48>lt||lt>57){z=(lt===46?i+$.slice(W+1):$.slice(W))+z,$=$.slice(0,W);break}}}w&&!g&&($=e($,1/0));var R=I.length+$.length+z.length,D=R<m?new Array(m-R+1).join(d):"";switch(w&&g&&($=e(D+$,D.length?m-z.length:1/0),D=""),h){case"<":$=I+$+z+D;break;case"=":$=I+D+$+z;break;case"^":$=D.slice(0,R=D.length>>1)+I+$+z+D.slice(R);break;default:$=D+I+$+z;break}return a($)}return F.toString=function(){return l+""},F}function u(l,d){var h=s((l=Ze(l),l.type="f",l)),b=Math.max(-8,Math.min(8,Math.floor(Se(d)/3)))*3,p=Math.pow(10,-b),g=Ya[8+b/3];return function(m){return h(p*m)+g}}return{format:s,formatPrefix:u}}var hn,an,Qf;D1({thousands:",",grouping:[3],currency:["$",""]});function D1(t){return hn=N1(t),an=hn.format,Qf=hn.formatPrefix,hn}function E1(t){return Math.max(0,-Se(Math.abs(t)))}function U1(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Se(e)/3)))*3-Se(Math.abs(t)))}function L1(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Se(e)-Se(t))+1}function Ut(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function nr(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const ui=Symbol("implicit");function Bi(){var t=new Me,e=[],n=[],r=ui;function i(a){let o=t.get(a);if(o===void 0){if(r!==ui)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Me;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Bi(e,n).unknown(r)},Ut.apply(i,arguments),i}function rr(){var t=Bi().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,f=!1,c=0,s=0,u=.5;delete t.unknown;function l(){var d=e().length,h=i<r,b=h?i:r,p=h?r:i;a=(p-b)/Math.max(1,d-c+s*2),f&&(a=Math.floor(a)),b+=(p-b-a*(d-c))*u,o=a*(1-c),f&&(b=Math.round(b),o=Math.round(o));var g=lf(d).map(function(m){return b+a*m});return n(h?g.reverse():g)}return t.domain=function(d){return arguments.length?(e(d),l()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,l()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,f=!0,l()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(d){return arguments.length?(f=!!d,l()):f},t.padding=function(d){return arguments.length?(c=Math.min(1,s=+d),l()):c},t.paddingInner=function(d){return arguments.length?(c=Math.min(1,d),l()):c},t.paddingOuter=function(d){return arguments.length?(s=+d,l()):s},t.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),l()):u},t.copy=function(){return rr(e(),[r,i]).round(f).paddingInner(c).paddingOuter(s).align(u)},Ut.apply(l(),arguments)}function jf(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return jf(e())},t}function O1(){return jf(rr.apply(null,arguments).paddingInner(1))}function I1(t){return function(){return t}}function li(t){return+t}var Ha=[0,1];function pt(t){return t}function di(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:I1(isNaN(e)?NaN:.5)}function R1(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function q1(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=di(i,r),a=n(o,a)):(r=di(r,i),a=n(a,o)),function(f){return a(r(f))}}function F1(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=di(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(f){var c=Si(t,f,1,r)-1;return a[c](i[c](f))}}function on(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ir(){var t=Ha,e=Ha,n=rn,r,i,a,o=pt,f,c,s;function u(){var d=Math.min(t.length,e.length);return o!==pt&&(o=R1(t[0],t[d-1])),f=d>2?F1:q1,c=s=null,l}function l(d){return d==null||isNaN(d=+d)?a:(c||(c=f(t.map(r),e,n)))(r(o(d)))}return l.invert=function(d){return o(i((s||(s=f(e,t.map(r),J)))(d)))},l.domain=function(d){return arguments.length?(t=Array.from(d,li),u()):t.slice()},l.range=function(d){return arguments.length?(e=Array.from(d),u()):e.slice()},l.rangeRound=function(d){return e=Array.from(d),n=Ri,u()},l.clamp=function(d){return arguments.length?(o=d?!0:pt,u()):o!==pt},l.interpolate=function(d){return arguments.length?(n=d,u()):n},l.unknown=function(d){return arguments.length?(a=d,l):a},function(d,h){return r=d,i=h,u()}}function Kf(){return ir()(pt,pt)}function P1(t,e,n,r){var i=Gr(t,e,n),a;switch(r=Ze(r==null?",f":r),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=U1(i,o))&&(r.precision=a),Qf(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=L1(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=E1(i))&&(r.precision=a-(r.type==="%")*2);break}}return an(r)}function fn(t){var e=t.domain;return t.ticks=function(n){var r=e();return Sn(r[0],r[r.length-1],n==null?10:n)},t.tickFormat=function(n,r){var i=e();return P1(i[0],i[i.length-1],n==null?10:n,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],f=r[a],c,s,u=10;for(f<o&&(s=o,o=f,f=s,s=i,i=a,a=s);u-- >0;){if(s=sf(o,f,n),s===c)return r[i]=o,r[a]=f,e(r);if(s>0)o=Math.floor(o/s)*s,f=Math.ceil(f/s)*s;else if(s<0)o=Math.ceil(o*s)/s,f=Math.floor(f*s)/s;else break;c=s}return t},t}function Wi(){var t=Kf();return t.copy=function(){return on(t,Wi())},Ut.apply(t,arguments),fn(t)}function Jf(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,li),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Jf(t).unknown(e)},t=arguments.length?Array.from(t,li):[0,1],fn(n)}function tc(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function za(t){return Math.log(t)}function Va(t){return Math.exp(t)}function Y1(t){return-Math.log(-t)}function H1(t){return-Math.exp(-t)}function z1(t){return isFinite(t)?+("1e"+t):t<0?0:t}function V1(t){return t===10?z1:t===Math.E?Math.exp:e=>Math.pow(t,e)}function B1(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Ba(t){return(e,n)=>-t(-e,n)}function ec(t){const e=t(za,Va),n=e.domain;let r=10,i,a;function o(){return i=B1(r),a=V1(r),n()[0]<0?(i=Ba(i),a=Ba(a),t(Y1,H1)):t(za,Va),e}return e.base=function(f){return arguments.length?(r=+f,o()):r},e.domain=function(f){return arguments.length?(n(f),o()):n()},e.ticks=f=>{const c=n();let s=c[0],u=c[c.length-1];const l=u<s;l&&([s,u]=[u,s]);let d=i(s),h=i(u),b,p;const g=f==null?10:+f;let m=[];if(!(r%1)&&h-d<g){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(b=1;b<r;++b)if(p=d<0?b/a(-d):b*a(d),!(p<s)){if(p>u)break;m.push(p)}}else for(;d<=h;++d)for(b=r-1;b>=1;--b)if(p=d>0?b/a(-d):b*a(d),!(p<s)){if(p>u)break;m.push(p)}m.length*2<g&&(m=Sn(s,u,g))}else m=Sn(d,h,Math.min(h-d,g)).map(a);return l?m.reverse():m},e.tickFormat=(f,c)=>{if(f==null&&(f=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Ze(c)).precision==null&&(c.trim=!0),c=an(c)),f===1/0)return c;const s=Math.max(1,r*f/e.ticks().length);return u=>{let l=u/a(Math.round(i(u)));return l*r<r-.5&&(l*=r),l<=s?c(u):""}},e.nice=()=>n(tc(n(),{floor:f=>a(Math.floor(i(f))),ceil:f=>a(Math.ceil(i(f)))})),e}function nc(){const t=ec(ir()).domain([1,10]);return t.copy=()=>on(t,nc()).base(t.base()),Ut.apply(t,arguments),t}function Wa(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Xa(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function rc(t){var e=1,n=t(Wa(e),Xa(e));return n.constant=function(r){return arguments.length?t(Wa(e=+r),Xa(e)):e},fn(n)}function ic(){var t=rc(ir());return t.copy=function(){return on(t,ic()).constant(t.constant())},Ut.apply(t,arguments)}function Ga(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function W1(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function X1(t){return t<0?-t*t:t*t}function ac(t){var e=t(pt,pt),n=1;function r(){return n===1?t(pt,pt):n===.5?t(W1,X1):t(Ga(n),Ga(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},fn(e)}function oc(){var t=ac(ir());return t.copy=function(){return on(t,oc()).exponent(t.exponent())},Ut.apply(t,arguments),t}function fc(){var t=[],e=[],n=[],r;function i(){var o=0,f=Math.max(1,e.length);for(n=new Array(f-1);++o<f;)n[o-1]=Ll(t,o/f);return a}function a(o){return o==null||isNaN(o=+o)?r:e[Si(n,o)]}return a.invertExtent=function(o){var f=e.indexOf(o);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let f of o)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(xt),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return fc().domain(t).range(e).unknown(r)},Ut.apply(a,arguments)}function cc(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[Si(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return cc().domain(t).range(e).unknown(n)},Ut.apply(i,arguments)}var Nr=new Date,Dr=new Date;function Q(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=function(a){return t(a=new Date(+a)),a},i.ceil=function(a){return t(a=new Date(a-1)),e(a,1),t(a),a},i.round=function(a){var o=i(a),f=i.ceil(a);return a-o<f-a?o:f},i.offset=function(a,o){return e(a=new Date(+a),o==null?1:Math.floor(o)),a},i.range=function(a,o,f){var c=[],s;if(a=i.ceil(a),f=f==null?1:Math.floor(f),!(a<o)||!(f>0))return c;do c.push(s=new Date(+a)),e(a,f),t(a);while(s<a&&a<o);return c},i.filter=function(a){return Q(function(o){if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},function(o,f){if(o>=o)if(f<0)for(;++f<=0;)for(;e(o,-1),!a(o););else for(;--f>=0;)for(;e(o,1),!a(o););})},n&&(i.count=function(a,o){return Nr.setTime(+a),Dr.setTime(+o),t(Nr),t(Dr),Math.floor(n(Nr,Dr))},i.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?function(o){return r(o)%a===0}:function(o){return i.count(0,o)%a===0}):i}),i}var qn=Q(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});qn.every=function(t){return t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Q(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):qn};var G1=qn;qn.range;const Ht=1e3,bt=Ht*60,zt=bt*60,se=zt*24,Xi=se*7,Za=se*30,Er=se*365;var sc=Q(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*Ht)},function(t,e){return(e-t)/Ht},function(t){return t.getUTCSeconds()}),ge=sc;sc.range;var uc=Q(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ht)},function(t,e){t.setTime(+t+e*bt)},function(t,e){return(e-t)/bt},function(t){return t.getMinutes()}),lc=uc;uc.range;var dc=Q(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ht-t.getMinutes()*bt)},function(t,e){t.setTime(+t+e*zt)},function(t,e){return(e-t)/zt},function(t){return t.getHours()}),hc=dc;dc.range;var pc=Q(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*bt)/se,t=>t.getDate()-1),ar=pc;pc.range;function de(t){return Q(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,n){e.setDate(e.getDate()+n*7)},function(e,n){return(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*bt)/Xi})}var or=de(0),Fn=de(1),Z1=de(2),Q1=de(3),Ce=de(4),j1=de(5),K1=de(6);or.range;Fn.range;Z1.range;Q1.range;Ce.range;j1.range;K1.range;var bc=Q(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()}),_c=bc;bc.range;var Gi=Q(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Gi.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Q(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)})};var ue=Gi;Gi.range;var gc=Q(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*bt)},function(t,e){return(e-t)/bt},function(t){return t.getUTCMinutes()}),mc=gc;gc.range;var yc=Q(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*zt)},function(t,e){return(e-t)/zt},function(t){return t.getUTCHours()}),wc=yc;yc.range;var vc=Q(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/se},function(t){return t.getUTCDate()-1}),fr=vc;vc.range;function he(t){return Q(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCDate(e.getUTCDate()+n*7)},function(e,n){return(n-e)/Xi})}var cr=he(0),Pn=he(1),J1=he(2),tp=he(3),Ae=he(4),ep=he(5),np=he(6);cr.range;Pn.range;J1.range;tp.range;Ae.range;ep.range;np.range;var xc=Q(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()}),Mc=xc;xc.range;var Zi=Q(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Zi.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Q(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})};var le=Zi;Zi.range;function Tc(t,e,n,r,i,a){const o=[[ge,1,Ht],[ge,5,5*Ht],[ge,15,15*Ht],[ge,30,30*Ht],[a,1,bt],[a,5,5*bt],[a,15,15*bt],[a,30,30*bt],[i,1,zt],[i,3,3*zt],[i,6,6*zt],[i,12,12*zt],[r,1,se],[r,2,2*se],[n,1,Xi],[e,1,Za],[e,3,3*Za],[t,1,Er]];function f(s,u,l){const d=u<s;d&&([s,u]=[u,s]);const h=l&&typeof l.range=="function"?l:c(s,u,l),b=h?h.range(s,+u+1):[];return d?b.reverse():b}function c(s,u,l){const d=Math.abs(u-s)/l,h=ki(([,,g])=>g).right(o,d);if(h===o.length)return t.every(Gr(s/Er,u/Er,l));if(h===0)return G1.every(Math.max(Gr(s,u,l),1));const[b,p]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return b.every(p)}return[f,c]}const[rp,ip]=Tc(le,Mc,cr,fr,wc,mc),[ap,op]=Tc(ue,_c,or,ar,hc,lc);function Ur(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Lr(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Re(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function fp(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,f=t.months,c=t.shortMonths,s=qe(i),u=Fe(i),l=qe(a),d=Fe(a),h=qe(o),b=Fe(o),p=qe(f),g=Fe(f),m=qe(c),w=Fe(c),_={a:S,A:R,b:D,B:V,c:null,d:eo,e:eo,f:Np,g:Pp,G:Hp,H:Sp,I:Cp,j:Ap,L:$c,m:Dp,M:Ep,p:P,q:K,Q:io,s:ao,S:Up,u:Lp,U:Op,V:Ip,w:Rp,W:qp,x:null,X:null,y:Fp,Y:Yp,Z:zp,"%":ro},T={a:Ct,A:gt,b:Ot,B:mt,c:null,d:no,e:no,f:Xp,g:rb,G:ab,H:Vp,I:Bp,j:Wp,L:Sc,m:Gp,M:Zp,p:It,q:Le,Q:io,s:ao,S:Qp,u:jp,U:Kp,V:Jp,w:tb,W:eb,x:null,X:null,y:nb,Y:ib,Z:ob,"%":ro},v={a:F,A:$,b:I,B:z,c:W,d:Ja,e:Ja,f:Mp,g:Ka,G:ja,H:to,I:to,j:yp,L:xp,m:mp,M:wp,p:A,q:gp,Q:$p,s:kp,S:vp,u:dp,U:hp,V:pp,w:lp,W:bp,x:Lt,X:lt,y:Ka,Y:ja,Z:_p,"%":Tp};_.x=x(n,_),_.X=x(r,_),_.c=x(e,_),T.x=x(n,T),T.X=x(r,T),T.c=x(e,T);function x(M,E){return function(L){var y=[],at=-1,Y=0,ft=M.length,ct,Jt,ga;for(L instanceof Date||(L=new Date(+L));++at<ft;)M.charCodeAt(at)===37&&(y.push(M.slice(Y,at)),(Jt=Qa[ct=M.charAt(++at)])!=null?ct=M.charAt(++at):Jt=ct==="e"?" ":"0",(ga=E[ct])&&(ct=ga(L,Jt)),y.push(ct),Y=at+1);return y.push(M.slice(Y,at)),y.join("")}}function k(M,E){return function(L){var y=Re(1900,void 0,1),at=U(y,M,L+="",0),Y,ft;if(at!=L.length)return null;if("Q"in y)return new Date(y.Q);if("s"in y)return new Date(y.s*1e3+("L"in y?y.L:0));if(E&&!("Z"in y)&&(y.Z=0),"p"in y&&(y.H=y.H%12+y.p*12),y.m===void 0&&(y.m="q"in y?y.q:0),"V"in y){if(y.V<1||y.V>53)return null;"w"in y||(y.w=1),"Z"in y?(Y=Lr(Re(y.y,0,1)),ft=Y.getUTCDay(),Y=ft>4||ft===0?Pn.ceil(Y):Pn(Y),Y=fr.offset(Y,(y.V-1)*7),y.y=Y.getUTCFullYear(),y.m=Y.getUTCMonth(),y.d=Y.getUTCDate()+(y.w+6)%7):(Y=Ur(Re(y.y,0,1)),ft=Y.getDay(),Y=ft>4||ft===0?Fn.ceil(Y):Fn(Y),Y=ar.offset(Y,(y.V-1)*7),y.y=Y.getFullYear(),y.m=Y.getMonth(),y.d=Y.getDate()+(y.w+6)%7)}else("W"in y||"U"in y)&&("w"in y||(y.w="u"in y?y.u%7:"W"in y?1:0),ft="Z"in y?Lr(Re(y.y,0,1)).getUTCDay():Ur(Re(y.y,0,1)).getDay(),y.m=0,y.d="W"in y?(y.w+6)%7+y.W*7-(ft+5)%7:y.w+y.U*7-(ft+6)%7);return"Z"in y?(y.H+=y.Z/100|0,y.M+=y.Z%100,Lr(y)):Ur(y)}}function U(M,E,L,y){for(var at=0,Y=E.length,ft=L.length,ct,Jt;at<Y;){if(y>=ft)return-1;if(ct=E.charCodeAt(at++),ct===37){if(ct=E.charAt(at++),Jt=v[ct in Qa?E.charAt(at++):ct],!Jt||(y=Jt(M,L,y))<0)return-1}else if(ct!=L.charCodeAt(y++))return-1}return y}function A(M,E,L){var y=s.exec(E.slice(L));return y?(M.p=u.get(y[0].toLowerCase()),L+y[0].length):-1}function F(M,E,L){var y=h.exec(E.slice(L));return y?(M.w=b.get(y[0].toLowerCase()),L+y[0].length):-1}function $(M,E,L){var y=l.exec(E.slice(L));return y?(M.w=d.get(y[0].toLowerCase()),L+y[0].length):-1}function I(M,E,L){var y=m.exec(E.slice(L));return y?(M.m=w.get(y[0].toLowerCase()),L+y[0].length):-1}function z(M,E,L){var y=p.exec(E.slice(L));return y?(M.m=g.get(y[0].toLowerCase()),L+y[0].length):-1}function W(M,E,L){return U(M,e,E,L)}function Lt(M,E,L){return U(M,n,E,L)}function lt(M,E,L){return U(M,r,E,L)}function S(M){return o[M.getDay()]}function R(M){return a[M.getDay()]}function D(M){return c[M.getMonth()]}function V(M){return f[M.getMonth()]}function P(M){return i[+(M.getHours()>=12)]}function K(M){return 1+~~(M.getMonth()/3)}function Ct(M){return o[M.getUTCDay()]}function gt(M){return a[M.getUTCDay()]}function Ot(M){return c[M.getUTCMonth()]}function mt(M){return f[M.getUTCMonth()]}function It(M){return i[+(M.getUTCHours()>=12)]}function Le(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var E=x(M+="",_);return E.toString=function(){return M},E},parse:function(M){var E=k(M+="",!1);return E.toString=function(){return M},E},utcFormat:function(M){var E=x(M+="",T);return E.toString=function(){return M},E},utcParse:function(M){var E=k(M+="",!0);return E.toString=function(){return M},E}}}var Qa={"-":"",_:" ",0:"0"},j=/^\s*\d+/,cp=/^%/,sp=/[\\^$*+?|[\]().{}]/g;function O(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function up(t){return t.replace(sp,"\\$&")}function qe(t){return new RegExp("^(?:"+t.map(up).join("|")+")","i")}function Fe(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function lp(t,e,n){var r=j.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function dp(t,e,n){var r=j.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function hp(t,e,n){var r=j.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function pp(t,e,n){var r=j.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function bp(t,e,n){var r=j.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ja(t,e,n){var r=j.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Ka(t,e,n){var r=j.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _p(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function gp(t,e,n){var r=j.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function mp(t,e,n){var r=j.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Ja(t,e,n){var r=j.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function yp(t,e,n){var r=j.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function to(t,e,n){var r=j.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function wp(t,e,n){var r=j.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function vp(t,e,n){var r=j.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function xp(t,e,n){var r=j.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Mp(t,e,n){var r=j.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Tp(t,e,n){var r=cp.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function $p(t,e,n){var r=j.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function kp(t,e,n){var r=j.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function eo(t,e){return O(t.getDate(),e,2)}function Sp(t,e){return O(t.getHours(),e,2)}function Cp(t,e){return O(t.getHours()%12||12,e,2)}function Ap(t,e){return O(1+ar.count(ue(t),t),e,3)}function $c(t,e){return O(t.getMilliseconds(),e,3)}function Np(t,e){return $c(t,e)+"000"}function Dp(t,e){return O(t.getMonth()+1,e,2)}function Ep(t,e){return O(t.getMinutes(),e,2)}function Up(t,e){return O(t.getSeconds(),e,2)}function Lp(t){var e=t.getDay();return e===0?7:e}function Op(t,e){return O(or.count(ue(t)-1,t),e,2)}function kc(t){var e=t.getDay();return e>=4||e===0?Ce(t):Ce.ceil(t)}function Ip(t,e){return t=kc(t),O(Ce.count(ue(t),t)+(ue(t).getDay()===4),e,2)}function Rp(t){return t.getDay()}function qp(t,e){return O(Fn.count(ue(t)-1,t),e,2)}function Fp(t,e){return O(t.getFullYear()%100,e,2)}function Pp(t,e){return t=kc(t),O(t.getFullYear()%100,e,2)}function Yp(t,e){return O(t.getFullYear()%1e4,e,4)}function Hp(t,e){var n=t.getDay();return t=n>=4||n===0?Ce(t):Ce.ceil(t),O(t.getFullYear()%1e4,e,4)}function zp(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+O(e/60|0,"0",2)+O(e%60,"0",2)}function no(t,e){return O(t.getUTCDate(),e,2)}function Vp(t,e){return O(t.getUTCHours(),e,2)}function Bp(t,e){return O(t.getUTCHours()%12||12,e,2)}function Wp(t,e){return O(1+fr.count(le(t),t),e,3)}function Sc(t,e){return O(t.getUTCMilliseconds(),e,3)}function Xp(t,e){return Sc(t,e)+"000"}function Gp(t,e){return O(t.getUTCMonth()+1,e,2)}function Zp(t,e){return O(t.getUTCMinutes(),e,2)}function Qp(t,e){return O(t.getUTCSeconds(),e,2)}function jp(t){var e=t.getUTCDay();return e===0?7:e}function Kp(t,e){return O(cr.count(le(t)-1,t),e,2)}function Cc(t){var e=t.getUTCDay();return e>=4||e===0?Ae(t):Ae.ceil(t)}function Jp(t,e){return t=Cc(t),O(Ae.count(le(t),t)+(le(t).getUTCDay()===4),e,2)}function tb(t){return t.getUTCDay()}function eb(t,e){return O(Pn.count(le(t)-1,t),e,2)}function nb(t,e){return O(t.getUTCFullYear()%100,e,2)}function rb(t,e){return t=Cc(t),O(t.getUTCFullYear()%100,e,2)}function ib(t,e){return O(t.getUTCFullYear()%1e4,e,4)}function ab(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ae(t):Ae.ceil(t),O(t.getUTCFullYear()%1e4,e,4)}function ob(){return"+0000"}function ro(){return"%"}function io(t){return+t}function ao(t){return Math.floor(+t/1e3)}var pe,Ac,Qi;fb({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fb(t){return pe=fp(t),Ac=pe.format,pe.parse,Qi=pe.utcFormat,pe.utcParse,pe}function cb(t){return new Date(t)}function sb(t){return t instanceof Date?+t:+new Date(+t)}function ji(t,e,n,r,i,a,o,f,c,s){var u=Kf(),l=u.invert,d=u.domain,h=s(".%L"),b=s(":%S"),p=s("%I:%M"),g=s("%I %p"),m=s("%a %d"),w=s("%b %d"),_=s("%B"),T=s("%Y");function v(x){return(c(x)<x?h:f(x)<x?b:o(x)<x?p:a(x)<x?g:r(x)<x?i(x)<x?m:w:n(x)<x?_:T)(x)}return u.invert=function(x){return new Date(l(x))},u.domain=function(x){return arguments.length?d(Array.from(x,sb)):d().map(cb)},u.ticks=function(x){var k=d();return t(k[0],k[k.length-1],x==null?10:x)},u.tickFormat=function(x,k){return k==null?v:s(k)},u.nice=function(x){var k=d();return(!x||typeof x.range!="function")&&(x=e(k[0],k[k.length-1],x==null?10:x)),x?d(tc(k,x)):u},u.copy=function(){return on(u,ji(t,e,n,r,i,a,o,f,c,s))},u}function ub(){return Ut.apply(ji(ap,op,ue,_c,or,ar,hc,lc,ge,Ac).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lb(){return Ut.apply(ji(rp,ip,le,Mc,cr,fr,wc,mc,ge,Qi).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sr(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function ur(){var t=0,e=.5,n=1,r=1,i,a,o,f,c,s=pt,u,l=!1,d;function h(p){return isNaN(p=+p)?d:(p=.5+((p=+u(p))-a)*(r*p<r*a?f:c),s(l?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e,n]=p,i=u(t=+t),a=u(e=+e),o=u(n=+n),f=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,h):[t,e,n]},h.clamp=function(p){return arguments.length?(l=!!p,h):l},h.interpolator=function(p){return arguments.length?(s=p,h):s};function b(p){return function(g){var m,w,_;return arguments.length?([m,w,_]=g,s=Fi(p,[m,w,_]),h):[s(0),s(.5),s(1)]}}return h.range=b(rn),h.rangeRound=b(Ri),h.unknown=function(p){return arguments.length?(d=p,h):d},function(p){return u=p,i=p(t),a=p(e),o=p(n),f=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,h}}function Nc(){var t=fn(ur()(pt));return t.copy=function(){return sr(t,Nc())},nr.apply(t,arguments)}function Dc(){var t=ec(ur()).domain([.1,1,10]);return t.copy=function(){return sr(t,Dc()).base(t.base())},nr.apply(t,arguments)}function Ec(){var t=rc(ur());return t.copy=function(){return sr(t,Ec()).constant(t.constant())},nr.apply(t,arguments)}function Uc(){var t=ac(ur());return t.copy=function(){return sr(t,Uc()).exponent(t.exponent())},nr.apply(t,arguments)}function N(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}var db=N("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),hb=N("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),pb=N("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),bb=N("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),_b=N("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),gb=N("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),mb=N("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),yb=N("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),wb=N("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),vb=N("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),q=t=>G0(t[t.length-1]),Lc=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(N),Oc=q(Lc),Ic=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(N),Rc=q(Ic),qc=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(N),Fc=q(qc),Pc=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(N),Yc=q(Pc),hi=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(N),Yn=q(hi),Hc=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(N),zc=q(Hc),pi=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(N),Hn=q(pi),Vc=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(N),Bc=q(Vc),Wc=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(N),Xc=q(Wc),Gc=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(N),Zc=q(Gc),Qc=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(N),jc=q(Qc),Kc=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(N),Jc=q(Kc),ts=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(N),es=q(ts),ns=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(N),rs=q(ns),is=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(N),as=q(is),os=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(N),fs=q(os),cs=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(N),ss=q(cs),us=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(N),ls=q(us),ds=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(N),hs=q(ds),ps=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(N),bs=q(ps),_s=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(N),gs=q(_s),ms=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(N),ys=q(ms),ws=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(N),vs=q(ws),xs=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(N),Ms=q(xs),Ts=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(N),$s=q(Ts),ks=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(N),Ss=q(ks),Cs=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(N),As=q(Cs);function Ns(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}var Ds=qi(Dt(300,.5,0),Dt(-240,.5,1)),Es=qi(Dt(-100,.75,.35),Dt(80,1.5,.8)),Us=qi(Dt(260,.75,.35),Dt(80,1.5,.8)),pn=Dt();function Ls(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return pn.h=360*t-100,pn.s=1.5-1.5*e,pn.l=.8-.9*e,pn+""}var bn=Zt(),xb=Math.PI/3,Mb=Math.PI*2/3;function Os(t){var e;return t=(.5-t)*Math.PI,bn.r=255*(e=Math.sin(t))*e,bn.g=255*(e=Math.sin(t+xb))*e,bn.b=255*(e=Math.sin(t+Mb))*e,bn+""}function Is(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function lr(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var Rs=lr(N("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),qs=lr(N("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Fs=lr(N("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Ps=lr(N("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function be(t){return function(){return t}}const Ys=Math.cos,Ki=Math.min,zn=Math.sin,X=Math.sqrt,oo=1e-12,Vn=Math.PI,dr=2*Vn;function Tb(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Hs(t){this._context=t}Hs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ji(t){return new Hs(t)}function $b(t){return t[0]}function kb(t){return t[1]}function Sb(t,e){var n=be(!0),r=null,i=Ji,a=null;t=typeof t=="function"?t:t===void 0?$b:be(t),e=typeof e=="function"?e:e===void 0?kb:be(e);function o(f){var c,s=(f=Tb(f)).length,u,l=!1,d;for(r==null&&(a=i(d=zi())),c=0;c<=s;++c)!(c<s&&n(u=f[c],c,f))===l&&((l=!l)?a.lineStart():a.lineEnd()),l&&a.point(+t(u,c,f),+e(u,c,f));if(d)return a=null,d+""||null}return o.x=function(f){return arguments.length?(t=typeof f=="function"?f:be(+f),o):t},o.y=function(f){return arguments.length?(e=typeof f=="function"?f:be(+f),o):e},o.defined=function(f){return arguments.length?(n=typeof f=="function"?f:be(!!f),o):n},o.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),o):i},o.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),o):r},o}class zs{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Cb(t){return new zs(t,!0)}function Ab(t){return new zs(t,!1)}const Nb=X(3);var Vs={draw(t,e){const n=X(e+Ki(e/28,.75))*.59436,r=n/2,i=r*Nb;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},ta={draw(t,e){const n=X(e/Vn);t.moveTo(n,0),t.arc(0,0,n,0,dr)}},Bs={draw(t,e){const n=X(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};const Ws=X(1/3),Db=Ws*2;var Xs={draw(t,e){const n=X(e/Db),r=n*Ws;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Gs={draw(t,e){const n=X(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},Zs={draw(t,e){const n=X(e-Ki(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},Qs={draw(t,e){const n=X(e),r=-n/2;t.rect(r,r,n,n)}},js={draw(t,e){const n=X(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}};const Eb=.8908130915292852,Ks=zn(Vn/10)/zn(7*Vn/10),Ub=zn(dr/10)*Ks,Lb=-Ys(dr/10)*Ks;var Js={draw(t,e){const n=X(e*Eb),r=Ub*n,i=Lb*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=dr*a/5,f=Ys(o),c=zn(o);t.lineTo(c*n,-f*n),t.lineTo(f*r-c*i,c*r+f*i)}t.closePath()}};const Or=X(3);var tu={draw(t,e){const n=-X(e/(Or*3));t.moveTo(0,n*2),t.lineTo(-Or*n,-n),t.lineTo(Or*n,-n),t.closePath()}};const Ob=X(3);var eu={draw(t,e){const n=X(e)*.6824,r=n/2,i=n*Ob/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}};const dt=-.5,ht=X(3)/2,bi=1/X(12),Ib=(bi/2+1)*3;var nu={draw(t,e){const n=X(e/Ib),r=n/2,i=n*bi,a=r,o=n*bi+n,f=-a,c=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(f,c),t.lineTo(dt*r-ht*i,ht*r+dt*i),t.lineTo(dt*a-ht*o,ht*a+dt*o),t.lineTo(dt*f-ht*c,ht*f+dt*c),t.lineTo(dt*r+ht*i,dt*i-ht*r),t.lineTo(dt*a+ht*o,dt*o-ht*a),t.lineTo(dt*f+ht*c,dt*c-ht*f),t.closePath()}},ru={draw(t,e){const n=X(e-Ki(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}};const Rb=[ta,Bs,Xs,Qs,Js,tu,nu],qb=[ta,Zs,ru,eu,Vs,js,Gs];function Qt(){}function Bn(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function hr(t){this._context=t}hr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bn(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bn(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Fb(t){return new hr(t)}function iu(t){this._context=t}iu.prototype={areaStart:Qt,areaEnd:Qt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Bn(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Pb(t){return new iu(t)}function au(t){this._context=t}au.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Bn(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Yb(t){return new au(t)}function ou(t,e){this._basis=new hr(t),this._beta=e}ou.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],a=t[n]-r,o=e[n]-i,f=-1,c;++f<=n;)c=f/n,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+c*a),this._beta*e[f]+(1-this._beta)*(i+c*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var fu=function t(e){function n(r){return e===1?new hr(r):new ou(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function Wn(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function ea(t,e){this._context=t,this._k=(1-e)/6}ea.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Wn(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Wn(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var cu=function t(e){function n(r){return new ea(r,e)}return n.tension=function(r){return t(+r)},n}(0);function na(t,e){this._context=t,this._k=(1-e)/6}na.prototype={areaStart:Qt,areaEnd:Qt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Wn(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var su=function t(e){function n(r){return new na(r,e)}return n.tension=function(r){return t(+r)},n}(0);function ra(t,e){this._context=t,this._k=(1-e)/6}ra.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Wn(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var uu=function t(e){function n(r){return new ra(r,e)}return n.tension=function(r){return t(+r)},n}(0);function ia(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>oo){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>oo){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*s+t._x1*t._l23_2a-e*t._l12_2a)/u,o=(o*s+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function lu(t,e){this._context=t,this._alpha=e}lu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:ia(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var du=function t(e){function n(r){return e?new lu(r,e):new ea(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function hu(t,e){this._context=t,this._alpha=e}hu.prototype={areaStart:Qt,areaEnd:Qt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ia(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var pu=function t(e){function n(r){return e?new hu(r,e):new na(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function bu(t,e){this._context=t,this._alpha=e}bu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ia(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var _u=function t(e){function n(r){return e?new bu(r,e):new ra(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function gu(t){this._context=t}gu.prototype={areaStart:Qt,areaEnd:Qt,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Hb(t){return new gu(t)}function fo(t){return t<0?-1:1}function co(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),f=(a*i+o*r)/(r+i);return(fo(a)+fo(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(f))||0}function so(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ir(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,f=(a-r)/3;t._context.bezierCurveTo(r+f,i+f*e,a-f,o-f*n,a,o)}function Xn(t){this._context=t}Xn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ir(this,this._t0,so(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ir(this,so(this,n=co(this,t,e)),n);break;default:Ir(this,this._t0,n=co(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function mu(t){this._context=new yu(t)}(mu.prototype=Object.create(Xn.prototype)).point=function(t,e){Xn.prototype.point.call(this,e,t)};function yu(t){this._context=t}yu.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function zb(t){return new Xn(t)}function Vb(t){return new mu(t)}function wu(t){this._context=t}wu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=uo(t),i=uo(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function uo(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Bb(t){return new wu(t)}function pr(t,e){this._context=t,this._t=e}pr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Wb(t){return new pr(t,.5)}function Xb(t){return new pr(t,0)}function Gb(t){return new pr(t,1)}function me(t,e,n){this.k=t,this.x=e,this.y=n}me.prototype={constructor:me,scale:function(t){return t===1?this:new me(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new me(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new me(1,0,0);me.prototype;function Zb(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return`${Qb(t.getUTCFullYear())}-${Pt(t.getUTCMonth()+1,2)}-${Pt(t.getUTCDate(),2)}${n||r||i||a?`T${Pt(n,2)}:${Pt(r,2)}${i||a?`:${Pt(i,2)}${a?`.${Pt(a,3)}`:""}`:""}Z`:""}`}function Qb(t){return t<0?`-${Pt(-t,6)}`:t>9999?`+${Pt(t,6)}`:Pt(t,4)}function Pt(t,e){return`${t}`.padStart(e,"0")}const jb=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function vu(t,e){return jb.test(t+="")?new Date(t):typeof e=="function"?e(t):e}const xu=Object.getPrototypeOf(Uint8Array),Kb=Object.prototype.toString;function aa(t,e,n){const r=typeof e;return r==="string"?_t(t,Jb(e),n):r==="function"?_t(t,e,n):r==="number"||e instanceof Date||r==="boolean"?_t(t,oa(e),n):e&&typeof e.transform=="function"?jt(e.transform(t),n):jt(e,n)}const Jb=t=>e=>e[t],t2=()=>!0,st=t=>t==null?t:`${t}`,Vt=t=>t==null?t:+t,Gn=t=>t==null?t:!!t,Mu=t=>t?t[0]:void 0,Tu=t=>t?t[1]:void 0,oa=t=>()=>t;function e2(t){const e=+`${t}`.slice(1)/100;return(n,r)=>Cn(n,e,r)}function Ne(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:Au(t)?[void 0,t]:[t,void 0]}function re(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function $u(t,e,n){if(t!=null)return br(t,e,n)}function br(t,e,n){const r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function jt(t,e){return t==null?t:e===void 0?t instanceof Array||t instanceof xu?t:Array.from(t):t instanceof e?t:e.from(t)}function _t(t,e,n=Array){return t instanceof n?t.map(e):n.from(t,e)}function _i(t,e=Array){return t instanceof e?t.slice():e.from(t)}function n2(t){return t instanceof xu}function ku(t){return(t==null?void 0:t.toString)===Kb}function r2(t){return ku(t)&&(t.type!==void 0||t.domain!==void 0)}function Su(t){return ku(t)&&typeof t.transform!="function"}function Zn(t){return Su(t)&&t.value===void 0&&t.channel===void 0}function i2(t,e){return t===void 0&&e===void 0?[Mu,Tu]:[t,e]}function a2({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=Ne(e)),t===void 0&&([t]=Ne(n)),t}function _r(t){const e=t.length,n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return n}function lo(t,e){return _r(t).filter(n=>e(t[n],n,t))}function fa(t,e){return _t(e,n=>t[n])}function Rr(t){return t!==null&&typeof t=="object"?t.valueOf():t}function o2(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function Cu(t){return t===void 0||Su(t)?t:{value:t}}function f2(t){return t&&typeof t[Symbol.iterator]=="function"}function ho(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function Qe(t){for(const e of t)if(e!=null)return e instanceof Date}function c2(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&vu(e)}function s2(t){for(const e of t)if(!(e==null||e===""))return typeof e=="string"&&!isNaN(e)}function po(t,e){for(const n of t)if(n!=null)return e(n)}function bo(t,e){for(const n of t)if(n!=null&&!e(n))return!1;return!0}function Au(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),t==="none"||t==="currentcolor"||t.startsWith("url(")&&t.endsWith(")")||t.startsWith("var(")&&t.endsWith(")")||Gt(t)!==null)}function ee(t){return t==null||gi(t)}function gi(t){return/^\s*none\s*$/i.test(t)}function u2(t){return/^\s*round\s*$/i.test(t)}function je(t){if(t==null)return;const e=t[0],n=t[t.length-1];return tn(e,n)}function l2(t){let e,n={};return(...r)=>((n.length!==r.length||n.some((i,a)=>i!==r[a]))&&(n=r,e=t(...r)),e)}const d2=l2(t=>new Intl.NumberFormat(t));function h2(t="en-US"){const e=d2(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function Nu(t){return Zb(t,"Invalid Date")}function p2(t="en-US"){const e=h2(t);return n=>(n instanceof Date?Nu:typeof n=="number"?e:st)(n)}const Du=p2(),_o=Math.PI/180;function De(t){return t!=null&&!Number.isNaN(t)}function mi(t,e){return De(e)-De(t)||xt(t,e)}function b2(t,e){return De(e)-De(t)||tn(t,e)}function _2(t){return t!=null&&`${t}`!=""}function Eu(t){return isFinite(t)?t:NaN}function ca(t){return t>0&&isFinite(t)?t:NaN}function Uu(t){return t<0&&isFinite(t)?t:NaN}let yi=0;function g2(){const t=yi;return yi=0,t}function Mn(t){console.warn(t),++yi}const ye=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5;let m2=0;function y2(t,{title:e,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:o,fill:f,fillOpacity:c,stroke:s,strokeWidth:u,strokeOpacity:l,strokeLinejoin:d,strokeLinecap:h,strokeMiterlimit:b,strokeDasharray:p,strokeDashoffset:g,opacity:m,mixBlendMode:w,paintOrder:_,pointerEvents:T,shapeRendering:v},{ariaLabel:x,fill:k="currentColor",fillOpacity:U,stroke:A="none",strokeOpacity:F,strokeWidth:$,strokeLinecap:I,strokeLinejoin:z,strokeMiterlimit:W,paintOrder:Lt}){k===null&&(f=null,c=null),A===null&&(s=null,l=null),ee(k)?!ee(A)&&!ee(f)&&(A="none"):ee(A)&&!ee(s)&&(k="none");const[lt,S]=Ne(f,k),[R,D]=re(c,U),[V,P]=Ne(s,A),[K,Ct]=re(l,F),[gt,Ot]=re(m);gi(P)||(u===void 0&&(u=$),h===void 0&&(h=I),d===void 0&&(d=z),b===void 0&&!u2(d)&&(b=W),!gi(S)&&_===void 0&&(_=Lt));const[mt,It]=re(u);return k!==null&&(t.fill=ot(S,"currentColor"),t.fillOpacity=Pe(D,1)),A!==null&&(t.stroke=ot(P,"none"),t.strokeWidth=Pe(It,1),t.strokeOpacity=Pe(Ct,1),t.strokeLinejoin=ot(d,"miter"),t.strokeLinecap=ot(h,"butt"),t.strokeMiterlimit=Pe(b,4),t.strokeDasharray=ot(p,"none"),t.strokeDashoffset=ot(g,"0")),t.target=st(o),t.ariaLabel=st(x),t.ariaDescription=st(i),t.ariaHidden=st(a),t.opacity=Pe(Ot,1),t.mixBlendMode=ot(w,"normal"),t.paintOrder=ot(_,"normal"),t.pointerEvents=ot(T,"auto"),t.shapeRendering=ot(v,"auto"),[{name:"title",value:e,optional:!0},{name:"href",value:n,optional:!0},{name:"ariaLabel",value:r,optional:!0},{name:"fill",value:lt,scale:"color",optional:!0},{name:"fillOpacity",value:R,scale:"opacity",optional:!0},{name:"stroke",value:V,scale:"color",optional:!0},{name:"strokeOpacity",value:K,scale:"opacity",optional:!0},{name:"strokeWidth",value:mt,optional:!0},{name:"opacity",value:gt,scale:"opacity",optional:!0}]}function w2(t,e){e&&t.filter(([n])=>_2(e[n])).append("title").call(v2,e)}function v2(t,e){e&&t.text(([n])=>Du(e[n]))}function x2(t,{target:e},{ariaLabel:n,title:r,fill:i,fillOpacity:a,stroke:o,strokeOpacity:f,strokeWidth:c,opacity:s,href:u}){n&&H(t,"aria-label",([l])=>n[l]),i&&H(t,"fill",([l])=>i[l]),a&&H(t,"fill-opacity",([l])=>a[l]),o&&H(t,"stroke",([l])=>o[l]),f&&H(t,"stroke-opacity",([l])=>f[l]),c&&H(t,"stroke-width",([l])=>c[l]),s&&H(t,"opacity",([l])=>s[l]),u&&A2(t,([l])=>u[l],e),w2(t,r)}function M2({ariaLabel:t,title:e,fill:n,fillOpacity:r,stroke:i,strokeOpacity:a,strokeWidth:o,opacity:f,href:c}){return[t,e,n,r,i,a,o,f,c].filter(s=>s!==void 0)}function T2(t,e,n){const r=Al(t,i=>e[i]);return n===void 0&&r.size>t.length>>1&&Mn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*$2(t,e,{z:n},r){const{z:i}=r,a=M2(r),o=[...e,...a];for(const f of i?T2(t,i,n):[t]){let c,s;t:for(const u of f){for(const l of o)if(!De(l[u])){s&&s.push(-1);continue t}if(c===void 0){s&&(yield s),c=a.map(l=>Rr(l[u])),s=[u];continue}s.push(u);for(let l=0;l<a.length;++l)if(Rr(a[l][u])!==c[l]){yield s,c=a.map(h=>Rr(h[u])),s=[u];continue t}}s&&(yield s)}}function k2(t){if(t===!0)return"frame";if(t==null||t===!1)return!1;throw new Error(`invalid clip method: ${t}`)}function S2(t,e,n,r){if(H(t,"aria-label",e.ariaLabel),H(t,"aria-description",e.ariaDescription),H(t,"aria-hidden",e.ariaHidden),H(t,"fill",e.fill),H(t,"fill-opacity",e.fillOpacity),H(t,"stroke",e.stroke),H(t,"stroke-width",e.strokeWidth),H(t,"stroke-opacity",e.strokeOpacity),H(t,"stroke-linejoin",e.strokeLinejoin),H(t,"stroke-linecap",e.strokeLinecap),H(t,"stroke-miterlimit",e.strokeMiterlimit),H(t,"stroke-dasharray",e.strokeDasharray),H(t,"stroke-dashoffset",e.strokeDashoffset),H(t,"shape-rendering",e.shapeRendering),H(t,"paint-order",e.paintOrder),H(t,"pointer-events",e.pointerEvents),e.clip==="frame"){const{x:i,y:a}=n,{width:o,height:f,marginLeft:c,marginRight:s,marginTop:u,marginBottom:l}=r,d=`plot-clip-${++m2}`;t.attr("clip-path",`url(#${d})`).append("clipPath").attr("id",d).append("rect").attr("x",c-(i!=null&&i.bandwidth?i.bandwidth()/2:0)).attr("y",u-(a!=null&&a.bandwidth?a.bandwidth()/2:0)).attr("width",o-s-c).attr("height",f-u-l)}}function C2(t,e){N2(t,"mix-blend-mode",e.mixBlendMode),H(t,"opacity",e.opacity)}function A2(t,e,n){t.each(function(r){const i=e(r);if(i!=null){const a=document.createElementNS(Nn.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(Nn.xlink,"href",i),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function H(t,e,n){n!=null&&t.attr(e,n)}function N2(t,e,n){n!=null&&t.style(e,n)}function D2(t,e,{x:n,y:r},i=ye,a=ye){i+=e.dx,a+=e.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&t.attr("transform",`translate(${i},${a})`)}function ot(t,e){if((t=st(t))!==e)return t}function Pe(t,e){if((t=Vt(t))!==e)return t}const E2=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/;function sa(t){if(t===void 0)return`plot-${Math.random().toString(16).slice(2)}`;if(t=`${t}`,!E2.test(t))throw new Error(`invalid class name: ${t}`);return t}function ua(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}class go{constructor({name:e="x",axis:n,ticks:r,tickSize:i=e==="fx"?0:6,tickPadding:a=i===0?9:3,tickFormat:o,fontVariant:f,grid:c,label:s,labelAnchor:u,labelOffset:l,line:d,tickRotate:h,ariaLabel:b,ariaDescription:p}={}){this.name=e,this.axis=br(n,"axis",["top","bottom"]),this.ticks=Ou(r),this.tickSize=Vt(i),this.tickPadding=Vt(a),this.tickFormat=Iu(o),this.fontVariant=ot(f,"normal"),this.grid=Gn(c),this.label=st(s),this.labelAnchor=$u(u,"labelAnchor",["center","left","right"]),this.labelOffset=Vt(l),this.line=Gn(d),this.tickRotate=Vt(h),this.ariaLabel=st(b),this.ariaDescription=st(p)}render(e,{[this.name]:n,fy:r},{width:i,height:a,marginTop:o,marginRight:f,marginBottom:c,marginLeft:s,offsetLeft:u=0,facetMarginTop:l,facetMarginBottom:d,labelMarginLeft:h=0,labelMarginRight:b=0}){const{axis:p,fontVariant:g,grid:m,label:w,labelAnchor:_,labelOffset:T,line:v,name:x,tickRotate:k}=this,U=x==="x"?0:p==="top"?o-l:c-d,A=p==="top"?-1:1,F=A*U+(p==="top"?o:a-c);return $t("svg:g").call(Lu,this).attr("transform",`translate(${u},${F})`).call(qu(p==="top"?Wl:hf,n,this)).call(Fu,k).attr("font-size",null).attr("font-family",null).attr("font-variant",g).call(v?()=>{}:$=>$.select(".domain").remove()).call(m?r?O2(e,r,-F):U2(A*(c+o-a)):()=>{}).call(w?$=>$.append("text").attr("fill","currentColor").attr("transform",`translate(${_==="center"?(i+s-f)/2:_==="right"?i+b:-h},${T*A})`).attr("dy",p==="top"?"1em":"-0.32em").attr("text-anchor",_==="center"?"middle":_==="right"?"end":"start").text(w):()=>{}).node()}}class mo{constructor({name:e="y",axis:n,ticks:r,tickSize:i=e==="fy"?0:6,tickPadding:a=i===0?9:3,tickFormat:o,fontVariant:f,grid:c,label:s,labelAnchor:u,labelOffset:l,line:d,tickRotate:h,ariaLabel:b,ariaDescription:p}={}){this.name=e,this.axis=br(n,"axis",["left","right"]),this.ticks=Ou(r),this.tickSize=Vt(i),this.tickPadding=Vt(a),this.tickFormat=Iu(o),this.fontVariant=ot(f,"normal"),this.grid=Gn(c),this.label=st(s),this.labelAnchor=$u(u,"labelAnchor",["center","top","bottom"]),this.labelOffset=Vt(l),this.line=Gn(d),this.tickRotate=Vt(h),this.ariaLabel=st(b),this.ariaDescription=st(p)}render(e,{[this.name]:n,fx:r},{width:i,height:a,marginTop:o,marginRight:f,marginBottom:c,marginLeft:s,offsetTop:u=0,facetMarginLeft:l,facetMarginRight:d}){const{axis:h,fontVariant:b,grid:p,label:g,labelAnchor:m,labelOffset:w,line:_,name:T,tickRotate:v}=this,x=T==="y"?0:h==="left"?s-l:f-d,k=h==="left"?-1:1,U=k*x+(h==="right"?i-f:s);return $t("svg:g").call(Lu,this).attr("transform",`translate(${U},${u})`).call(qu(h==="right"?Xl:Gl,n,this)).call(Fu,v).attr("font-size",null).attr("font-family",null).attr("font-variant",b).call(_?()=>{}:A=>A.select(".domain").remove()).call(p?r?I2(e,r,-U):L2(k*(s+f-i)):()=>{}).call(g?A=>A.append("text").attr("fill","currentColor").attr("font-variant",b==null?null:"normal").attr("transform",`translate(${w*k},${m==="center"?(a+o-c)/2:m==="bottom"?a-c:o})${m==="center"?" rotate(-90)":""}`).attr("dy",m==="center"?h==="right"?"-0.32em":"0.75em":m==="bottom"?"1.4em":"-1em").attr("text-anchor",m==="center"?"middle":h==="right"?"end":"start").text(g):()=>{}).node()}}function Lu(t,{name:e,label:n,ariaLabel:r=`${e}-axis`,ariaDescription:i=n}){H(t,"aria-label",r),H(t,"aria-description",i)}function U2(t){return e=>e.selectAll(".tick line").clone(!0).attr("stroke-opacity",.1).attr("y2",t)}function L2(t){return e=>e.selectAll(".tick line").clone(!0).attr("stroke-opacity",.1).attr("x2",t)}function O2(t,e,n){const r=e.bandwidth(),i=e.domain();return a=>a.selectAll(".tick").append("path").attr("stroke","currentColor").attr("stroke-opacity",.1).attr("d",(t?fa(i,t):i).map(o=>`M0,${e(o)+n}v${r}`).join(""))}function I2(t,e,n){const r=e.bandwidth(),i=e.domain();return a=>a.selectAll(".tick").append("path").attr("stroke","currentColor").attr("stroke-opacity",.1).attr("d",(t?fa(i,t):i).map(o=>`M${e(o)+n},0h${r}`).join(""))}function Ou(t){return t===null?[]:t}function Iu(t){return t===null?()=>null:t}function Ru(t,e){return t===void 0?Qe(e)?Nu:st:typeof t=="function"?t:(typeof t=="string"?Qe(e)?Qi:an:oa)(t)}function qu(t,e,{ticks:n,tickSize:r,tickPadding:i,tickFormat:a}){return e.tickFormat||(a=Ru(a,e.domain())),t(e).ticks(Array.isArray(n)?null:n,typeof a=="function"?null:a).tickFormat(typeof a=="function"?a:null).tickSizeInner(r).tickSizeOuter(0).tickPadding(i).tickValues(Array.isArray(n)?n:null)}function Fu(t,e){if(!!(e=+e))for(const n of t.selectAll("text")){const r=+n.getAttribute("x"),i=+n.getAttribute("y");if(Math.abs(i)>Math.abs(r)){const a=Math.sign(i);n.setAttribute("transform",`translate(0, ${i+a*4*Math.cos(e*_o)}) rotate(${e})`),n.setAttribute("text-anchor",Math.abs(e)<10?"middle":e<0^a>0?"start":"end")}else{const a=Math.sign(r);n.setAttribute("transform",`translate(${r+a*4*Math.abs(Math.sin(e*_o))}, 0) rotate(${e})`),n.setAttribute("text-anchor",Math.abs(e)>60?"middle":a>0?"start":"end")}n.removeAttribute("x"),n.removeAttribute("y"),n.setAttribute("dy","0.32em")}}const vt=Symbol("position"),Mt=Symbol("color"),gr=Symbol("radius"),mr=Symbol("length"),yr=Symbol("opacity"),Ke=Symbol("symbol"),B=new Map([["x",vt],["y",vt],["fx",vt],["fy",vt],["r",gr],["color",Mt],["opacity",yr],["symbol",Ke],["length",mr]]),yo=new Map([["accent",hb],["category10",db],["dark2",pb],["paired",bb],["pastel1",_b],["pastel2",gb],["set1",mb],["set2",yb],["set3",wb],["tableau10",vb],["brbg",qt(Lc,Oc)],["prgn",qt(Ic,Rc)],["piyg",qt(qc,Fc)],["puor",qt(Pc,Yc)],["rdbu",qt(hi,Yn)],["rdgy",qt(Hc,zc)],["rdylbu",qt(pi,Hn)],["rdylgn",qt(Vc,Bc)],["spectral",qt(Wc,Xc)],["burd",wo(hi,Yn)],["buylrd",wo(pi,Hn)],["blues",G(ms,ys)],["greens",G(ws,vs)],["greys",G(xs,Ms)],["oranges",G(Cs,As)],["purples",G(Ts,$s)],["reds",G(ks,Ss)],["turbo",Ft(Is)],["viridis",Ft(Rs)],["magma",Ft(qs)],["inferno",Ft(Fs)],["plasma",Ft(Ps)],["cividis",Ft(Ns)],["cubehelix",Ft(Ds)],["warm",Ft(Es)],["cool",Ft(Us)],["bugn",G(Gc,Zc)],["bupu",G(Qc,jc)],["gnbu",G(Kc,Jc)],["orrd",G(ts,es)],["pubu",G(is,as)],["pubugn",G(ns,rs)],["purd",G(os,fs)],["rdpu",G(cs,ss)],["ylgn",G(ds,hs)],["ylgnbu",G(us,ls)],["ylorbr",G(ps,bs)],["ylorrd",G(_s,gs)],["rainbow",vo(Ls)],["sinebow",vo(Os)]]);function G(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?Tt(e,n):t[n])}function qt(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?Tt(e,n):t[n])}function wo(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?Tt(r=>e(1-r),n):t[n].slice().reverse())}function Ft(t){return({length:e})=>Tt(t,Math.max(2,Math.floor(e)))}function vo(t){return({length:e})=>Tt(t,Math.floor(e)+1).slice(0,-1)}function Pu(t){const e=`${t}`.toLowerCase();if(!yo.has(e))throw new Error(`unknown scheme: ${e}`);return yo.get(e)}function wr(t,e){const n=Pu(t),r=typeof n=="function"?n({length:e}):n;return r.length!==e?r.slice(0,e):r}function R2(t,e="greys"){const n=new Set,[r,i]=wr(e,2);for(const a of t)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const xo=new Map([["brbg",Oc],["prgn",Rc],["piyg",Fc],["puor",Yc],["rdbu",Yn],["rdgy",zc],["rdylbu",Hn],["rdylgn",Bc],["spectral",Xc],["burd",t=>Yn(1-t)],["buylrd",t=>Hn(1-t)],["blues",ys],["greens",vs],["greys",Ms],["purples",$s],["reds",Ss],["oranges",As],["turbo",Is],["viridis",Rs],["magma",qs],["inferno",Fs],["plasma",Ps],["cividis",Ns],["cubehelix",Ds],["warm",Es],["cool",Us],["bugn",Zc],["bupu",jc],["gnbu",Jc],["orrd",es],["pubugn",rs],["pubu",as],["purd",fs],["rdpu",ss],["ylgnbu",ls],["ylgn",hs],["ylorbr",bs],["ylorrd",gs],["rainbow",Ls],["sinebow",Os]]);function la(t){const e=`${t}`.toLowerCase();if(!xo.has(e))throw new Error(`unknown scheme: ${e}`);return xo.get(e)}const q2=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function Mo(t){return t!=null&&q2.has(`${t}`.toLowerCase())}function vr(t){if(t!=null){if(typeof t=="number"){const e=t;return{floor:n=>e*Math.floor(n/e),offset:n=>n+e,range:(n,r)=>lf(Math.ceil(n/e),r/e).map(i=>e*i)}}if(typeof t.floor!="function"||typeof t.offset!="function")throw new Error("invalid interval; missing floor or offset function");return t}}const Yu=t=>e=>t(1-e),qr=[0,1],To=new Map([["number",J],["rgb",fe],["hsl",fh],["hcl",uh],["lab",ch]]);function Hu(t){const e=`${t}`.toLowerCase();if(!To.has(e))throw new Error(`unknown interpolator: ${e}`);return To.get(e)}function cn(t,e,n,{type:r,nice:i,clamp:a,zero:o,domain:f=Vu(t,n),unknown:c,round:s,scheme:u,interval:l,range:d=B.get(t)===gr?G2(n,f):B.get(t)===mr?Z2(n,f):B.get(t)===yr?qr:void 0,interpolate:h=B.get(t)===Mt?u==null&&d!==void 0?fe:la(u!==void 0?u:r==="cyclical"?"rainbow":"turbo"):s?Ri:J,reverse:b}){if(l=vr(l),(r==="cyclical"||r==="sequential")&&(r="linear"),b=!!b,typeof h!="function"&&(h=Hu(h)),h.length===1?(b&&(h=Yu(h),b=!1),d===void 0&&(d=Float64Array.from(f,(p,g)=>g/(f.length-1)),d.length===2&&(d=qr)),e.interpolate((d===qr?oa:ha)(h))):e.interpolate(h),o){const[p,g]=Ve(f);(p>0||g<0)&&(f=_i(f),je(f)!==Math.sign(p)?f[f.length-1]=0:f[0]=0)}return b&&(f=An(f)),e.domain(f).unknown(c),i&&(e.nice(i===!0?void 0:i),f=e.domain()),d!==void 0&&e.range(d),a&&e.clamp(a),{type:r,domain:f,range:d,scale:e,interpolate:h,interval:l}}function F2(t,e,n){return cn(t,Wi(),e,n)}function P2(t,e,n){return zu(t,e,{...n,exponent:.5})}function zu(t,e,{exponent:n=1,...r}){return cn(t,oc().exponent(n),e,{...r,type:"pow"})}function Y2(t,e,{base:n=10,domain:r=Q2(e),...i}){return cn(t,nc().base(n),e,{...i,domain:r})}function H2(t,e,{constant:n=1,...r}){return cn(t,ic().constant(n),e,r)}function z2(t,e,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:o=j2(e),interpolate:f,reverse:c}){return n===void 0&&(n=f!==void 0?Tt(f,i):B.get(t)===Mt?wr(a,i):void 0),da(t,e,{domain:fc(o,n===void 0?{length:i}:n).quantiles(),range:n,reverse:c})}function V2(t,e,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=Vu(t,e),interpolate:o,reverse:f}){const[c,s]=Ve(a);let u;return n===void 0?(u=Sn(c,s,r),u[0]<=c&&u.splice(0,1),u[u.length-1]>=s&&u.pop(),r=u.length+1,n=o!==void 0?Tt(o,r):B.get(t)===Mt?wr(i,r):void 0):(u=Tt(J(c,s),r+1).slice(1,-1),c instanceof Date&&(u=u.map(l=>new Date(l)))),je(jt(a))<0&&u.reverse(),da(t,e,{domain:u,range:n,reverse:f})}function da(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:o=a!==void 0?Tt(a,n.length+1):B.get(t)===Mt?wr(i,n.length+1):void 0,reverse:f}){const c=je(jt(n));if(!Rl(n).every(([s,u])=>B2(s,u,c)))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(o=An(o)),{type:"threshold",scale:cc(c<0?An(n):n,o===void 0?[]:o).unknown(r),domain:n,range:o}}function B2(t,e,n){const r=tn(t,e);return r===0||r===n}function W2(){return{type:"identity",scale:Jf()}}function Je(t,e=Eu){return t.length?[Be(t,({value:n})=>n===void 0?n:Be(n,e)),Bt(t,({value:n})=>n===void 0?n:Bt(n,e))]:[0,1]}function Vu(t,e){const n=B.get(t);return(n===gr||n===yr||n===mr?X2:Je)(e)}function X2(t){return[0,t.length?Bt(t,({value:e})=>e===void 0?e:Bt(e,Eu)):1]}function G2(t,e){const n=t.find(({radius:o})=>o!==void 0);if(n!==void 0)return[0,n.radius];const r=Cn(t,.5,({value:o})=>o===void 0?NaN:Cn(o,.25,ca)),i=e.map(o=>3*Math.sqrt(o/r)),a=30/Bt(i);return a<1?i.map(o=>o*a):i}function Z2(t,e){const n=Zr(t,({value:a})=>a===void 0?NaN:Zr(a,Math.abs)),r=e.map(a=>12*a/n),i=60/Bt(r);return i<1?r.map(a=>a*i):r}function Q2(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n=+n,n>0)return Je(t,ca);if(n<0)return Je(t,Uu)}return[1,10]}function j2(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const r of n)e.push(r);return e}function ha(t){return(e,n)=>r=>t(e+r*(n-e))}function xr(t,e,n,r,{type:i,nice:a,clamp:o,domain:f=Je(r),unknown:c,pivot:s=0,scheme:u,range:l,symmetric:d=!0,interpolate:h=B.get(t)===Mt?u==null&&l!==void 0?fe:la(u!==void 0?u:"rdbu"):J,reverse:b}){s=+s;let[p,g]=f;if(p=Math.min(p,s),g=Math.max(g,s),typeof h!="function"&&(h=Hu(h)),l!==void 0&&(h=h.length===1?ha(h)(...l):Fi(h,l)),b&&(h=Yu(h)),d){const m=n.apply(s),w=m-n.apply(p),_=n.apply(g)-m;w<_?p=n.invert(m-_):w>_&&(g=n.invert(m+w))}return e.domain([p,s,g]).unknown(c).interpolator(h),o&&e.clamp(o),a&&e.nice(a),{type:i,domain:[p,g],pivot:s,interpolate:h,scale:e}}function K2(t,e,n){return xr(t,Nc(),n_,e,n)}function J2(t,e,n){return Bu(t,e,{...n,exponent:.5})}function Bu(t,e,{exponent:n=1,...r}){return xr(t,Uc().exponent(n=+n),a_(n),e,{...r,type:"diverging-pow"})}function t_(t,e,{base:n=10,pivot:r=1,domain:i=Je(e,r<0?Uu:ca),...a}){return xr(t,Dc().base(n=+n),r_,e,{domain:i,pivot:r,...a})}function e_(t,e,{constant:n=1,...r}){return xr(t,Ec().constant(n=+n),o_(n),e,r)}const n_={apply(t){return t},invert(t){return t}},r_={apply:Math.log,invert:Math.exp},i_={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function a_(t){return t===.5?i_:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function o_(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function Wu(t,e,n,r){return cn(t,e,n,r)}function f_(t,e,n){return Wu(t,ub(),e,n)}function c_(t,e,n){return Wu(t,lb(),e,n)}const s_=Math.sqrt(3),u_=2/s_,l_={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*u_,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},Xu=new Map([["asterisk",Vs],["circle",ta],["cross",Bs],["diamond",Xs],["diamond2",Gs],["hexagon",l_],["plus",Zs],["square",Qs],["square2",js],["star",Js],["times",ru],["triangle",tu],["triangle2",eu],["wye",nu]]);function Gu(t){return t&&typeof t.draw=="function"}function d_(t){return Gu(t)?!0:typeof t!="string"?!1:Xu.has(t.toLowerCase())}function Zu(t){if(t==null||Gu(t))return t;const e=Xu.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}const sn=Symbol("ordinal");function Qu(t,e,n,{type:r,interval:i,domain:a,range:o,reverse:f,hint:c}){return i=vr(i),a===void 0&&(a=Ku(n,i,t)),(r==="categorical"||r===sn)&&(r="ordinal"),f&&(a=An(a)),e.domain(a),o!==void 0&&(typeof o=="function"&&(o=o(a)),e.range(o)),{type:r,domain:a,range:o,scale:e,hint:c,interval:i}}function h_(t,e,{type:n,interval:r,domain:i,range:a,scheme:o,unknown:f,...c}){r=vr(r),i===void 0&&(i=Ku(e,r,t));let s;if(B.get(t)===Ke)s=__(e),a=a===void 0?g_(s):_t(a,Zu);else if(B.get(t)===Mt&&(a===void 0&&(n==="ordinal"||n===sn)&&(a=R2(i,o),a!==void 0&&(o=void 0)),o===void 0&&a===void 0&&(o=n==="ordinal"?"turbo":"tableau10"),o!==void 0))if(a!==void 0){const u=la(o),l=a[0],d=a[1]-a[0];a=({length:h})=>Tt(b=>u(l+d*b),h)}else a=Pu(o);if(f===ui)throw new Error("implicit unknown is not supported");return Qu(t,Bi().unknown(f),e,{...c,type:n,domain:i,range:a,hint:s})}function p_(t,e,{align:n=.5,padding:r=.5,...i}){return ju(O1().align(n).padding(r),e,i,t)}function b_(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=t==="fx"||t==="fy"?0:r,...o}){return ju(rr().align(n).paddingInner(i).paddingOuter(a),e,o,t)}function ju(t,e,n,r){let{round:i}=n;return i!==void 0&&t.round(i=!!i),t=Qu(r,t,e,n),t.round=i,t}function Ku(t,e,n){const r=new Ci;for(const{value:i,domain:a}of t){if(a!==void 0)return a();if(i!==void 0)for(const o of i)r.add(o)}if(e!==void 0){const[i,a]=Ve(r).map(e.floor,e);return e.range(i,e.offset(a))}if(r.size>1e4&&B.get(n)===vt)throw new Error("implicit ordinal position domain has more than 10,000 values");return ff(r,mi)}function $o(t,e){let n;for(const{hint:r}of t){const i=r==null?void 0:r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function __(t){return{fill:$o(t,"fill"),stroke:$o(t,"stroke")}}function g_(t){return ee(t.fill)?qb:Rb}function ko(t,{inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:a=e,round:o,nice:f,clamp:c,zero:s,align:u,padding:l,...d}={}){const h={};for(const[b,p]of t){const g=d[b],m=w_(b,p,{round:B.get(b)===vt?o:void 0,nice:f,clamp:c,zero:s,align:u,padding:l,...g});if(m){let{percent:w,transform:_,inset:T,insetTop:v=T!==void 0?T:b==="y"?n:0,insetRight:x=T!==void 0?T:b==="x"?r:0,insetBottom:k=T!==void 0?T:b==="y"?i:0,insetLeft:U=T!==void 0?T:b==="x"?a:0}=g||{};if(_==null)_=void 0;else if(typeof _!="function")throw new Error("invalid scale transform; not a function");m.percent=!!w,m.transform=_,b==="x"||b==="fx"?(m.insetLeft=+U,m.insetRight=+x):(b==="y"||b==="fy")&&(m.insetTop=+v,m.insetBottom=+k),h[b]=m}}return h}function So(t){return Object.fromEntries(Object.entries(t).map(([e,{scale:n}])=>[e,n]))}function m_({x:t,y:e,fx:n,fy:r},i){n&&Co(n,i),r&&Ao(r,i),t&&Co(t,n?{width:n.scale.bandwidth()}:i),e&&Ao(e,r?{height:r.scale.bandwidth()}:i)}function Co(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:r}=t,{width:i,marginLeft:a=0,marginRight:o=0}=e,f=a+n,c=i-o-r;t.range=[f,Math.max(f,c)],Xt(t)||(t.range=tl(t)),t.scale.range(t.range)}Ju(t)}function Ao(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:r}=t,{height:i,marginTop:a=0,marginBottom:o=0}=e,f=a+n,c=i-o-r;t.range=[Math.max(f,c),f],Xt(t)?t.range.reverse():t.range=tl(t),t.scale.range(t.range)}Ju(t)}function Ju(t){t.round===void 0&&T_(t)&&y_(t)<=30&&t.scale.round(!0)}function y_({scale:t}){const e=t.domain().length,[n,r]=t.range(),i=t.paddingInner?t.paddingInner():1,a=t.paddingOuter?t.paddingOuter():t.padding(),o=e-i,f=Math.abs(r-n)/Math.max(1,o+a*2);return(f-Math.floor(f))*o}function tl(t){const e=t.scale.domain().length+M_(t);if(!(e>2))return t.range;const[n,r]=t.range;return Array.from({length:e},(i,a)=>n+a/(e-1)*(r-n))}function w_(t,e=[],n={}){const r=v_(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&Xt({type:r})){const i=e.map(({value:a})=>a).filter(a=>a!==void 0);i.some(Qe)?Mn(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${_e(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${_e(r)}".`):i.some(c2)?Mn(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${_e(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${_e(r)}".`):i.some(s2)&&Mn(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${_e(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${_e(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=_n(e,n,Do);break;case"identity":switch(B.get(t)){case vt:n=_n(e,n,Do);break;case Ke:n=_n(e,n,$_);break}break;case"utc":case"time":n=_n(e,n,k_);break}switch(r){case"diverging":return K2(t,e,n);case"diverging-sqrt":return J2(t,e,n);case"diverging-pow":return Bu(t,e,n);case"diverging-log":return t_(t,e,n);case"diverging-symlog":return e_(t,e,n);case"categorical":case"ordinal":case sn:return h_(t,e,n);case"cyclical":case"sequential":case"linear":return F2(t,e,n);case"sqrt":return P2(t,e,n);case"threshold":return da(t,e,n);case"quantile":return z2(t,e,n);case"quantize":return V2(t,e,n);case"pow":return zu(t,e,n);case"log":return Y2(t,e,n);case"symlog":return H2(t,e,n);case"utc":return c_(t,e,n);case"time":return f_(t,e,n);case"point":return p_(t,e,n);case"band":return b_(t,e,n);case"identity":return B.get(t)===vt?W2():{type:"identity"};case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function _e(t){return typeof t=="symbol"?t.description:t}function v_(t,e,{type:n,domain:r,range:i,scheme:a,pivot:o}){if(t==="fx"||t==="fy")return"band";for(const{type:s}of e)if(s!==void 0){if(n===void 0)n=s;else if(n!==s)throw new Error(`scale incompatible with channel: ${n} !== ${s}`)}if(n!==void 0)return n;if(r===void 0&&!e.some(({value:s})=>s!==void 0))return;const f=B.get(t);if(f===Mt&&i===void 0&&a===void 0&&No(r,e,Au)||f===Ke&&i===void 0&&No(r,e,d_))return"identity";if(f===gr)return"sqrt";if(f===yr||f===mr)return"linear";if(f===Ke)return"ordinal";if((r||i||[]).length>2)return Fr(f);if(r!==void 0)return ho(r)?Fr(f):Qe(r)?"utc":f===Mt&&(o!=null||Mo(a))?"diverging":"linear";const c=e.map(({value:s})=>s).filter(s=>s!==void 0);return c.some(ho)?Fr(f):c.some(Qe)?"utc":f===Mt&&(o!=null||Mo(a))?"diverging":"linear"}function Fr(t){switch(t){case vt:return"point";case Mt:return sn;default:return"ordinal"}}function No(t,e,n){return t!==void 0?po(t,n)&&bo(t,n):e.some(({value:r})=>r!==void 0&&po(r,n))&&e.every(({value:r})=>r===void 0||bo(r,n))}function x_({type:t}){return t==="time"||t==="utc"}function Xt({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===sn}function M_({type:t}){return t==="threshold"}function T_({type:t}){return t==="point"||t==="band"}function el({range:t,domain:e=t}){return Math.sign(je(e))*Math.sign(je(t))}function _n(t,{domain:e,...n},r){for(const i of t)i.value!==void 0&&(i.value=r(i.value));return{domain:e===void 0?e:r(e),...n}}function $_(t){return _t(t,Zu)}function k_(t){return _t(t,C_)}function Do(t){return n2(t)?t:_t(t,S_,Float64Array)}function S_(t){return t==null?NaN:+t}function C_(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?vu(t):t==null||isNaN(t=+t)?void 0:new Date(t)}function A_(t){return e=>{if(!B.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return e in t?N_(t[e]):void 0}}function N_({scale:t,type:e,domain:n,range:r,label:i,interpolate:a,interval:o,transform:f,percent:c,pivot:s}){if(e==="identity")return{type:"identity",apply:l=>l,invert:l=>l};const u=t.unknown?t.unknown():void 0;return{type:e,domain:_i(n),...r!==void 0&&{range:_i(r)},...f!==void 0&&{transform:f},...c&&{percent:c},...i!==void 0&&{label:i},...u!==void 0&&{unknown:u},...o!==void 0&&{interval:o},...a!==void 0&&{interpolate:a},...t.clamp&&{clamp:t.clamp()},...s!==void 0&&{pivot:s,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:l=>t(l),...t.invert&&{invert:l=>t.invert(l)}}}function D_({x:t,y:e,fx:n,fy:r},{x:i={},y:a={},fx:o={},fy:f={},axis:c=!0,grid:s,line:u,label:l,facet:{axis:d=c,grid:h,label:b=l}={}}={}){let{axis:p=c}=i,{axis:g=c}=a,{axis:m=d}=o,{axis:w=d}=f;return t?p===!0&&(p="bottom"):p=null,e?g===!0&&(g="left"):g=null,n?m===!0&&(m=p==="bottom"?"top":"bottom"):m=null,r?w===!0&&(w=g==="left"?"right":"left"):w=null,{...p&&{x:new go({grid:s,line:u,label:l,fontVariant:we(t),...i,axis:p})},...g&&{y:new mo({grid:s,line:u,label:l,fontVariant:we(e),...a,axis:g})},...m&&{fx:new go({name:"fx",grid:h,label:b,fontVariant:we(n),...o,axis:m})},...w&&{fy:new mo({name:"fy",grid:h,label:b,fontVariant:we(r),...f,axis:w})}}}function E_({x:t,y:e,fx:n,fy:r},{x:i,y:a,fx:o,fy:f}){o&&gn(n,o,80),f&&gn(r,f,35),i&&gn(t,i,80),a&&gn(e,a,35)}function gn(t,e,n){if(e.ticks===void 0){const r=t.interval;if(r!==void 0){const[i,a]=Ve(t.scale.domain());e.ticks=r.range(r.floor(i),r.offset(r.floor(a)))}else{const[i,a]=Ve(t.scale.range());e.ticks=(a-i)/n}}e.tickFormat===void 0&&Xt(t)&&(e.tickFormat=Du)}function U_(t,e,{x:n,y:r,fx:i,fy:a},o,f){if(i&&(Eo(i,e.fx,t.get("fx")),i.labelOffset===void 0)){const{facetMarginTop:c,facetMarginBottom:s}=o;i.labelOffset=i.axis==="top"?c:s}if(a&&(Uo(a,i,e.fy,t.get("fy")),a.labelOffset===void 0)){const{facetMarginLeft:c,facetMarginRight:s}=o;a.labelOffset=a.axis==="left"?c:s}if(n&&(Eo(n,e.x,t.get("x")),n.labelOffset===void 0)){const{marginTop:c,marginBottom:s,facetMarginTop:u,facetMarginBottom:l}=o;n.labelOffset=n.axis==="top"?c-u:s-l}if(r&&(Uo(r,n,e.y,t.get("y")),r.labelOffset===void 0)){const{marginRight:c,marginLeft:s,facetMarginLeft:u,facetMarginRight:l}=o;r.labelOffset=r.axis==="left"?s-u:c-l}for(const[c,s]of B)s!==vt&&e[c]&&L_(c,e[c],t.get(c),f[c])}function Eo(t,e,n){t.labelAnchor===void 0&&(t.labelAnchor=Xt(e)?"center":el(e)<0?"left":"right"),t.label===void 0&&(t.label=pa(n,e,t,"x")),e.label=t.label}function Uo(t,e,n,r){t.labelAnchor===void 0&&(t.labelAnchor=Xt(n)?"center":e&&e.axis==="top"?"bottom":"top"),t.label===void 0&&(t.label=pa(r,n,t,"y")),n.label=t.label}function L_(t,e,n,r){r&&(e.label=r.label),e.label===void 0&&(e.label=pa(n,e,null,t))}function pa(t=[],e,n,r){let i;for(const{label:a}of t)if(a!==void 0){if(i===void 0)i=a;else if(i!==a)return}if(i!==void 0){if(x_(e)&&/^(date|time|year)$/i.test(i))return;if(!Xt(e)&&(e.percent&&(i=`${i} (%)`),r==="x"||r==="y")){const a=el(e);a&&(r==="x"||n&&n.labelAnchor==="center"?i=r==="x"==a<0?`\u2190 ${i}`:`${i} \u2192`:i=`${a<0?"\u2191 ":"\u2193 "}${i}`)}}return i}function we(t){return Xt(t)&&t.interval===void 0?void 0:"tabular-nums"}function O_({filter:t,sort:e,reverse:n,transform:r,initializer:i,...a}={},o){if(r===void 0&&(t!=null&&(r=nl(t)),e!=null&&!Zn(e)&&(r=Pr(r,il(e))),n&&(r=Pr(r,rl))),o!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(e===null||Zn(e))&&{sort:e},transform:Pr(r,o)}}function I_({filter:t,sort:e,reverse:n,initializer:r,...i}={},a){return r===void 0&&(t!=null&&(r=nl(t)),e!=null&&!Zn(e)&&(r=Yr(r,il(e))),n&&(r=Yr(r,rl))),{...i,initializer:Yr(r,a)}}function Pr(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r){return{data:n,facets:r}=t.call(this,n,r),e.call(this,jt(n),r)}}function Yr(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i,a,o){let f,c,s,u,l,d;return{data:c=n,facets:s=r,channels:f}=t.call(this,n,r,i,a,o),{data:l=c,facets:d=s,channels:u}=e.call(this,c,s,{...i,...f},a,o),{data:l,facets:d,channels:{...f,...u}}}}function nl(t){return(e,n)=>{const r=aa(e,t);return{data:e,facets:n.map(i=>i.filter(a=>r[a]))}}}function rl(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function il(t){return(typeof t=="function"&&t.length!==1?R_:q_)(t)}function R_(t){return(e,n)=>{const r=(i,a)=>t(e[i],e[a]);return{data:e,facets:n.map(i=>i.slice().sort(r))}}}function q_(t){let e,n;if({channel:e,value:t,order:n=mi}={...Cu(t)},typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=mi;break;case"descending":n=b2;break;default:throw new Error(`invalid order: ${n}`)}return(r,i,a)=>{let o;if(e===void 0)o=aa(r,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(o=a[e],!o)return{};o=o.value}const f=(c,s)=>n(o[c],o[s]);return{data:r,facets:i.map(c=>c.slice().sort(f))}}}function F_(t,e){if(t&&typeof t.reduce=="function")return t;if(typeof t=="function")return P_(t);if(/^p\d{2}$/i.test(t))return yt(e2(t));switch(`${t}`.toLowerCase()){case"first":return Y_;case"last":return H_;case"count":return Lo;case"distinct":return z_;case"sum":return e==null?Lo:V_;case"proportion":return Oo(e,"data");case"proportion-facet":return Oo(e,"facet");case"deviation":return yt(Cl);case"min":return yt(Be);case"min-index":return yt(Ul);case"max":return yt(Bt);case"max-index":return yt(El);case"mean":return yt(Ol);case"median":return yt(Zr);case"variance":return yt(ef);case"mode":return yt(Il);case"x":return B_;case"x1":return X_;case"x2":return G_;case"y":return W_;case"y1":return Z_;case"y2":return Q_}throw new Error(`invalid reduce: ${t}`)}function P_(t){return{reduce(e,n,r){return t(fa(n,e),r)}}}function yt(t){return{reduce(e,n){return t(e,r=>n[r])}}}const Y_={reduce(t,e){return e[t[0]]}},H_={reduce(t,e){return e[t[t.length-1]]}},Lo={label:"Frequency",reduce(t){return t.length}},z_={label:"Distinct",reduce:(t,e)=>{const n=new Ci;for(const r of t)n.add(e[r]);return n.size}},V_=yt(df);function Oo(t,e){return t==null?{scope:e,label:"Frequency",reduce:(n,r,i=1)=>n.length/i}:{scope:e,reduce:(n,r,i=1)=>df(n,a=>r[a])/i}}function al(t,e){const n=(+t+ +e)/2;return t instanceof Date?new Date(n):n}const B_={reduce(t,e,{x1:n,x2:r}){return al(n,r)}},W_={reduce(t,e,{y1:n,y2:r}){return al(n,r)}},X_={reduce(t,e,{x1:n}){return n}},G_={reduce(t,e,{x2:n}){return n}},Z_={reduce(t,e,{y1:n}){return n}},Q_={reduce(t,e,{y2:n}){return n}};function wi(t,{scale:e,type:n,value:r,filter:i,hint:a}){return{scale:e,type:n,value:aa(t,r),label:o2(r),filter:i,hint:a}}function j_(t,e){const n={};for(const r of t)n[r.name]=wi(e,r);return n}function K_(t,e){const n={};for(const r in t){const{scale:i,value:a}=t[r],o=e[i];n[r]=o===void 0?a:_t(a,o)}return n}function J_(t,e,n,r){const{reverse:i,reduce:a=!0,limit:o}=r;for(const f in r){if(!B.has(f))continue;let{value:c,reverse:s=i,reduce:u=a,limit:l=o}=Cu(r[f]);if(s===void 0&&(s=c==="width"||c==="height"),u==null||u===!1)continue;const d=Io(t,f)||e&&Io(e,f);if(!d)throw new Error(`missing channel for scale: ${f}`);const h=d.value,[b=0,p=1/0]=f2(l)?l:l<0?[l]:[0,l];if(c==null)d.domain=()=>{let g=h;return s&&(g=g.slice().reverse()),(b!==0||p!==1/0)&&(g=g.slice(b,p)),g};else{const g=c==="data"?n:c==="height"?Ro(t,"y1","y2"):c==="width"?Ro(t,"x1","x2"):vi(t,c,c==="y"?"y2":c==="x"?"x2":void 0),m=F_(u===!0?"max":u,g);d.domain=()=>{let w=Nl(_r(h),_=>m.reduce(_,g),_=>h[_]);return w=ff(w,s?eg:tg),(b!==0||p!==1/0)&&(w=w.slice(b,p)),w.map(Mu)}}}}function Io(t,e){for(const n in t){const r=t[n];if(r.scale===e)return r}}function Ro(t,e,n){const r=vi(t,e),i=vi(t,n);return _t(i,(a,o)=>Math.abs(a-r[o]),Float64Array)}function vi(t,e,n){let r=t[e];if(!r&&n!==void 0&&(r=t[n]),r)return r.value;throw new Error(`missing channel: ${e}`)}function tg([t,e],[n,r]){return xt(e,r)||xt(t,n)}function eg([t,e],[n,r]){return tn(e,r)||xt(t,n)}function ng(t,{x:{axis:e}={},y:{axis:n}={},fx:{axis:r}={},fy:{axis:i}={}},{width:a=640,height:o=rg(t),facet:{margin:f,marginTop:c=f!==void 0?f:r==="top"?30:0,marginRight:s=f!==void 0?f:i==="right"?40:0,marginBottom:u=f!==void 0?f:r==="bottom"?30:0,marginLeft:l=f!==void 0?f:i==="left"?40:0}={},margin:d,marginTop:h=d!==void 0?d:Math.max((e==="top"?30:0)+c,n||i?20:.5-ye),marginRight:b=d!==void 0?d:Math.max((n==="right"?40:0)+s,e||r?20:.5+ye),marginBottom:p=d!==void 0?d:Math.max((e==="bottom"?30:0)+u,n||i?20:.5+ye),marginLeft:g=d!==void 0?d:Math.max((n==="left"?40:0)+l,e||r?20:.5-ye)}={}){return{width:a,height:o,marginTop:h,marginRight:b,marginBottom:p,marginLeft:g,facetMarginTop:c,facetMarginRight:s,facetMarginBottom:u,facetMarginLeft:l}}function rg({y:t,fy:e,fx:n}){const r=e?e.scale.domain().length:1,i=t?Xt(t)?t.scale.domain().length:Math.max(7,17/r):1;return!!(t||e)*Math.max(1,Math.min(60,i*r))*20+!!n*30+60}function ig(t,{label:e=t.label,tickSize:n=6,width:r=240,height:i=44+n,marginTop:a=18,marginRight:o=0,marginBottom:f=16+n,marginLeft:c=0,style:s,ticks:u=(r-c-o)/64,tickFormat:l,fontVariant:d=we(t),round:h=!0,className:b}){b=sa(b),l===null&&(l=()=>null);const p=$t("svg").attr("class",b).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",r).attr("height",i).attr("viewBox",`0 0 ${r} ${i}`).call(A=>A.append("style").text(`
        .${b} {
          display: block;
          background: white;
          height: auto;
          height: intrinsic;
          max-width: 100%;
          overflow: visible;
        }
        .${b} text {
          white-space: pre;
        }
      `)).call(ua,s);let g=A=>A.selectAll(".tick line").attr("y1",a+f-i),m;const w=h?(A,F)=>A.rangeRound(F):(A,F)=>A.range(F),{type:_,domain:T,range:v,interpolate:x,scale:k,pivot:U}=t;if(x){const A=v===void 0?x:Fi(x.length===1?ha(x):x,v);m=w(k.copy(),Tt(J(c,r-o),Math.min(T.length+(U!==void 0),v===void 0?1/0:v.length))),p.append("image").attr("x",c).attr("y",a).attr("width",r-c-o).attr("height",i-a-f).attr("preserveAspectRatio","none").attr("xlink:href",ag(A).toDataURL())}else if(_==="threshold"){const A=T,F=l===void 0?$=>$:typeof l=="string"?an(l):l;m=w(Wi().domain([-1,v.length-1]),[c,r-o]),p.append("g").selectAll().data(v).enter().append("rect").attr("x",($,I)=>m(I-1)).attr("y",a).attr("width",($,I)=>m(I)-m(I-1)).attr("height",i-a-f).attr("fill",$=>$),u=_t(A,($,I)=>I),l=$=>F(A[$],$)}else m=w(rr().domain(T),[c,r-o]),p.append("g").selectAll().data(T).enter().append("rect").attr("x",m).attr("y",a).attr("width",Math.max(0,m.bandwidth()-1)).attr("height",i-a-f).attr("fill",k),g=()=>{};return p.append("g").attr("transform",`translate(0,${i-f})`).call(hf(m).ticks(Array.isArray(u)?null:u,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(n).tickValues(Array.isArray(u)?u:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",ot(d,"normal")).call(g).call(A=>A.select(".domain").remove()),e!==void 0&&p.append("text").attr("x",c).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(e),p.node()}function ag(t,e=256){const n=$t("canvas").attr("width",e).attr("height",1).node(),r=n.getContext("2d");for(let i=0;i<e;++i)r.fillStyle=t(i/(e-1)),r.fillRect(i,0,1,1);return n}function qo(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function og(t,e){return ol(t,e,n=>n.style("--color",t.scale),n=>`.${n}-swatch::before {
        content: "";
        width: var(--swatchWidth);
        height: var(--swatchHeight);
        margin-right: 0.5em;
        background: var(--color);
      }`)}function fg(t,{fill:e=(s=>(s=t.hint)==null?void 0:s.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:r=(u=>(u=t.hint)==null?void 0:u.stroke)()!==void 0?t.hint.stroke:ee(e)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:o=4.5,...f}={},c){const[l,d]=Ne(e),[h,b]=Ne(r),p=qo(c,l),g=qo(c,h),m=o*o*Math.PI;return n=re(n)[1],i=re(i)[1],a=re(a)[1],ol(t,f,w=>w.append("svg").attr("viewBox","-8 -8 16 16").attr("fill",l==="color"?_=>p.scale(_):null).attr("stroke",h==="color"?_=>g.scale(_):null).append("path").attr("d",_=>{const T=zi();return t.scale(_).draw(T,m),T}),w=>`.${w}-swatch > svg {
        width: var(--swatchWidth);
        height: var(--swatchHeight);
        margin-right: 0.5em;
        overflow: visible;
        fill: ${d};
        fill-opacity: ${n};
        stroke: ${b};
        stroke-width: ${a}px;
        stroke-opacity: ${i};
      }`)}function ol(t,{columns:e,tickFormat:n,fontVariant:r=we(t),swatchSize:i=15,swatchWidth:a=i,swatchHeight:o=i,marginLeft:f=0,className:c,style:s,width:u}={},l,d){c=sa(c),n=Ru(n,t.domain);const h=$t("div").attr("class",c).attr("style",`
        --swatchWidth: ${+a}px;
        --swatchHeight: ${+o}px;
      `);let b;return e!=null?(b=`
      .${c}-swatch {
        display: flex;
        align-items: center;
        break-inside: avoid;
        padding-bottom: 1px;
      }
      .${c}-swatch::before {
        flex-shrink: 0;
      }
      .${c}-label {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
    `,h.style("columns",e).selectAll().data(t.domain).enter().append("div").attr("class",`${c}-swatch`).call(l,t).call(p=>p.append("div").attr("class",`${c}-label`).attr("title",n).text(n))):(b=`
      .${c} {
        display: flex;
        align-items: center;
        min-height: 33px;
        flex-wrap: wrap;
      }
      .${c}-swatch {
        display: inline-flex;
        align-items: center;
        margin-right: 1em;
      }
    `,h.selectAll().data(t.domain).enter().append("span").attr("class",`${c}-swatch`).call(l,t).append(function(){return document.createTextNode(n.apply(this,arguments))})),h.call(p=>p.insert("style","*").text(`
        .${c} {
          font-family: system-ui, sans-serif;
          font-size: 10px;
          margin-bottom: 0.5em;${f===void 0?"":`
          margin-left: ${+f}px;`}${u===void 0?"":`
          width: ${u}px;`}
        }
        ${d(c)}
        ${b}
      `)).style("font-variant",ot(r,"normal")).call(ua,s).node()}const xi=new Map([["symbol",fg],["color",cl],["opacity",sg]]);function cg(t,e={}){return(n,r)=>{if(!xi.has(n))throw new Error(`unknown legend type: ${n}`);if(n in t)return xi.get(n)(t[n],fl(e[n],r),i=>t[i])}}function fl({label:t,ticks:e,tickFormat:n}={},r={}){return{label:t,ticks:e,tickFormat:n,...r}}function cl(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return og(t,n);case"ramp":return ig(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function sg({type:t,interpolate:e,...n},{legend:r=!0,color:i=Zt(0,0,0),...a}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return cl({type:t,...n,interpolate:ug(i)},{legend:r,...a})}function ug(t){const{r:e,g:n,b:r}=Zt(t)||Zt(0,0,0);return i=>`rgba(${e},${n},${r},${i})`}function lg(t,e){const n=[];for(const[r,i]of xi){const a=e[r];if((a==null?void 0:a.legend)&&r in t){const o=i(t[r],fl(t[r],a),f=>t[f]);o!=null&&n.push(o)}}return n}function ba(t={}){const{facet:e,style:n,caption:r,ariaLabel:i,ariaDescription:a}=t,o=sa(t.className),f=t.marks===void 0?[]:t.marks.flat(1/0).map(dg),c=new Map,s=new Map;for(const S of B.keys())r2(t[S])&&S!=="fx"&&S!=="fy"&&s.set(S,[]);let u,l,d,h,b;if(e!==void 0){const{x:S,y:R}=e;if(S!=null||R!=null){const D=jt(e.data);if(D==null)throw new Error("missing facet data");if(d={},S!=null){const V=wi(D,{value:S,scale:"fx"});d.fx=V,s.set("fx",[V])}if(R!=null){const V=wi(D,{value:R,scale:"fy"});d.fy=V,s.set("fy",[V])}l=_r(D),u=_g(l,d),h=u.map(Tu)}}for(const S of f){if(c.has(S))throw new Error("duplicate mark; each mark must be unique");const R=h===void 0?void 0:S.facet==="auto"?S.data===e.data?h:void 0:S.facet==="include"?h:S.facet==="exclude"?b||(b=h.map(K=>Uint32Array.from(Fl(l,K)))):void 0,{data:D,facets:V,channels:P}=S.initialize(R,d);Fo(P,t),c.set(S,{data:D,facets:V,channels:P})}const p=ko(Po(s,c),t),g=So(p),m=D_(p,t),w=ng(p,m,t);m_(p,w),E_(p,m);const{fx:_,fy:T}=g,v=T&&{marginTop:0,marginBottom:0,height:T.bandwidth()},x=_&&{marginRight:0,marginLeft:0,width:_.bandwidth()},k={...w,...x,...v},U=new Set;for(const[S,R]of c)if(S.initializer!=null){const{facets:D,channels:V}=S.initializer(R.data,R.facets,R.channels,g,k);if(D!==void 0&&(R.facets=D),V!==void 0){pg(V),Fo(V,t),Object.assign(R.channels,V);for(const{scale:P}of Object.values(V))P!=null&&U.add(P)}}if(U.size){for(const D of U)if(B.get(D)===vt)throw new Error(`initializers cannot declare position scales: ${D}`);const S=ko(Po(new Map,c,D=>U.has(D)),t),R=So(S);Object.assign(p,S),Object.assign(g,R)}U_(s,p,m,w,t);for(const S of c.values())S.values=K_(S.channels,g);const{width:A,height:F}=w,$=$t("svg").attr("class",o).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",A).attr("height",F).attr("viewBox",`0 0 ${A} ${F}`).attr("aria-label",i).attr("aria-description",a).call(S=>S.append("style").text(`
        .${o} {
          display: block;
          background: white;
          height: auto;
          height: intrinsic;
          max-width: 100%;
        }
        .${o} text,
        .${o} tspan {
          white-space: pre;
        }
      `)).call(ua,n).node(),I=m[u!==void 0&&T?"fy":"y"],z=m[u!==void 0&&_?"fx":"x"];if(I&&$.appendChild(I.render(null,g,w)),z&&$.appendChild(z.render(null,g,w)),u!==void 0){const S=T&&T.domain(),R=_&&_.domain(),D=yg(d);u.forEach(([P],K)=>D.set(P,K));const V=Kr($);if(T&&m.y){const P=m.y,K=Yo(P),Ct=P.labelAnchor==="bottom"?S.length-1:P.labelAnchor==="center"?S.length>>1:0;V.selectAll().data(S).enter().append((gt,Ot)=>(Ot===Ct?P:K).render(_&&lo(R,mt=>D.has([mt,gt])),g,{...w,...v,offsetTop:T(gt)}))}if(_&&m.x){const P=m.x,K=Yo(P),Ct=P.labelAnchor==="right"?R.length-1:P.labelAnchor==="center"?R.length>>1:0,{marginLeft:gt,marginRight:Ot}=w;V.selectAll().data(R).enter().append((mt,It)=>(It===Ct?P:K).render(T&&lo(S,Le=>D.has([mt,Le])),g,{...w,...x,labelMarginLeft:gt,labelMarginRight:Ot,offsetLeft:_(mt)}))}V.selectAll().data(bg(g).filter(D.has,D)).enter().append("g").attr("aria-label","facet").attr("transform",mg(_,T)).each(function(P){var Ct;const K=D.get(P);for(const[gt,{channels:Ot,values:mt,facets:It}]of c){const Le=It?gt.filter((Ct=It[K])!=null?Ct:It[0],Ot,mt):null,M=gt.render(Le,g,mt,k);M!=null&&this.appendChild(M)}})}else for(const[S,{channels:R,values:D,facets:V}]of c){const P=V?S.filter(V[0],R,D):null,K=S.render(P,g,D,w);K!=null&&$.appendChild(K)}let W=$;const Lt=lg(p,t);if(r!=null||Lt.length>0){W=document.createElement("figure"),W.style.maxWidth="initial";for(const S of Lt)W.appendChild(S);if(W.appendChild($),r!=null){const S=document.createElement("figcaption");S.appendChild(r instanceof Node?r:document.createTextNode(r)),W.appendChild(S)}}W.scale=A_(p),W.legend=cg(p,t);const lt=g2();return lt>0&&Kr($).append("text").attr("x",A).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("\u26A0\uFE0F").append("title").text(`${lt.toLocaleString("en-US")} warning${lt===1?"":"s"}. Please check the console.`),W}class _a{constructor(e,n=[],r={},i){const{facet:a="auto",sort:o,dx:f,dy:c,clip:s,channels:u}=r,l=new Set;this.data=e,this.sort=Zn(o)?o:null,this.initializer=I_(r).initializer,this.transform=this.initializer?r.transform:O_(r).transform,this.facet=a==null||a===!1?null:br(a===!0?"include":a,"facet",["auto","include","exclude"]),u!==void 0&&(n=[...n,...u.filter(d=>!n.some(h=>h.name===d.name))]),i!==void 0&&(n=[...n,...y2(this,r,i)]),this.channels=n.filter(d=>{const{name:h,value:b,optional:p}=d;if(b==null){if(p)return!1;throw new Error(`missing channel value: ${h}`)}if(h==null)throw new Error("missing channel name");const g=`${h}`;if(g==="__proto__")throw new Error(`illegal channel name: ${g}`);if(l.has(g))throw new Error(`duplicate channel: ${g}`);return l.add(g),!0}),this.dx=+f||0,this.dy=+c||0,this.clip=k2(s)}initialize(e,n){let r=jt(this.data);e===void 0&&r!=null&&(e=[_r(r)]),this.transform!=null&&({facets:e,data:r}=this.transform(r,e),r=jt(r));const i=j_(this.channels,r);return this.sort!=null&&J_(i,n,r,this.sort),{data:r,facets:e,channels:i}}filter(e,n,r){for(const i in n){const{filter:a=De}=n[i];if(a!==null){const o=r[i];e=e.filter(f=>a(o[f]))}}return e}plot({marks:e=[],...n}={}){return ba({...n,marks:[...e,this]})}}function dg(t){return t instanceof _a?t:new hg(t)}class hg extends _a{constructor(e){if(super(),e!=null){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");this.render=e}}render(){}}function Fo(t,e){var n;for(const r in t){const i=t[r],{scale:a}=i;if(a!=null){const{percent:o,interval:f,transform:c=o?s=>s*100:(n=vr(f))==null?void 0:n.floor}=e[a]||{};c!=null&&(i.value=_t(i.value,c))}}return t}function pg(t){for(const e in t){const n=t[e];let{scale:r}=n;if(r===!0){switch(e){case"fill":case"stroke":r="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":r="opacity";break;default:r=B.has(e)?e:null;break}n.scale=r}}}function Po(t,e,n=t2){for(const{channels:r}of e.values())for(const i in r){const a=r[i],{scale:o}=a;if(o!=null&&n(o)){const f=t.get(o);f!==void 0?f.push(a):t.set(o,[a])}}return t}function Yo(t){return t===void 0||t.label===void 0?t:Object.assign(Object.create(t),{label:void 0})}function bg({fx:t,fy:e}){return t&&e?Sl(t.domain(),e.domain()):t?t.domain():e.domain()}function _g(t,{fx:e,fy:n}){return e&&n?gg(t,e,n):e?Ho(t,e):Ho(t,n)}function Ho(t,{value:e}){return of(t,n=>e[n])}function gg(t,{value:e},{value:n}){return of(t,r=>e[r],r=>n[r]).flatMap(([r,i])=>i.map(([a,o])=>[[r,a],o]))}function mg(t,e){return t&&e?([n,r])=>`translate(${t(n)},${e(r)})`:t?n=>`translate(${t(n)},0)`:n=>`translate(0,${e(n)})`}function yg({fx:t,fy:e}){return new(t&&e?wg:sl)}class sl{constructor(){this._=new Me}has(e){return this._.has(e)}get(e){return this._.get(e)}set(e,n){return this._.set(e,n),this}}class wg extends sl{has([e,n]){const r=super.get(e);return r?r.has(n):!1}get([e,n]){const r=super.get(e);return r&&r.get(n)}set([e,n],r){const i=super.get(e);return i?i.set(n,r):super.set(e,new Me([[n,r]])),this}}const vg=new Map([["basis",Fb],["basis-closed",Pb],["basis-open",Yb],["bundle",fu],["bump-x",Cb],["bump-y",Ab],["cardinal",cu],["cardinal-closed",su],["cardinal-open",uu],["catmull-rom",du],["catmull-rom-closed",pu],["catmull-rom-open",_u],["linear",Ji],["linear-closed",Hb],["monotone-x",zb],["monotone-y",Vb],["natural",Bb],["step",Wb],["step-after",Gb],["step-before",Xb]]);function xg(t=Ji,e){if(typeof t=="function")return t;const n=vg.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(e!==void 0)switch(n){case fu:return n.beta(e);case su:case uu:case cu:return n.tension(e);case pu:case _u:case du:return n.alpha(e)}return n}function Mg(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:i=e}={}){t.markerStart=Hr(n),t.markerMid=Hr(r),t.markerEnd=Hr(i)}function Hr(t){if(t==null||t===!1)return null;if(t===!0)return zo;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Tg;case"dot":return $g;case"circle":case"circle-fill":return zo;case"circle-stroke":return kg}throw new Error(`invalid marker: ${t}`)}function Tg(t){return $t("svg:marker").attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient","auto").attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(e=>e.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function $g(t){return $t("svg:marker").attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(e=>e.append("circle").attr("r",2.5)).node()}function zo(t){return $t("svg:marker").attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","white").attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function kg(t){return $t("svg:marker").attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","white").attr("stroke",t).attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}let Sg=0;function Cg(t,e,{stroke:n}={}){return Ag(t,e,n&&(([r])=>n[r]))}function Ag(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:i},a=()=>i){const o=new Map;function f(c){return function(s){const u=a(s);let l=o.get(c);l||o.set(c,l=new Map);let d=l.get(u);if(!d){const h=this.parentNode.insertBefore(c(u),this),b=`plot-marker-${++Sg}`;h.setAttribute("id",b),l.set(u,d=`url(#${b})`)}return d}}e&&t.attr("marker-start",f(e)),n&&t.attr("marker-mid",f(n)),r&&t.attr("marker-end",f(r))}const Ng={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Dg extends _a{constructor(e,n={}){const{x:r,y:i,z:a,curve:o,tension:f}=n;super(e,[{name:"x",value:r,scale:"x"},{name:"y",value:i,scale:"y"},{name:"z",value:a2(n),optional:!0}],n,Ng),this.z=a,this.curve=xg(o,f),Mg(this,n)}filter(e){return e}render(e,n,r,i){const{x:a,y:o}=r;return $t("svg:g").call(S2,this,n,i).call(D2,this,n).call(f=>f.selectAll().data($2(e,[a,o],this,r)).enter().append("path").call(C2,this).call(x2,this,r).call(Cg,this,r).attr("d",Sb().curve(this.curve).defined(c=>c>=0).x(c=>a[c]).y(c=>o[c]))).node()}}function ul(t,{x:e,y:n,...r}={}){return[e,n]=i2(e,n),new Dg(t,{...r,x:e,y:n})}const St=t=>(Go("data-v-df93a978"),t=t(),Zo(),t),Eg={class:"forecast_test"},Ug=St(()=>C("div",{class:"forecast__title"},"Test Forecast",-1)),Lg={class:"forecast__date"},Og=St(()=>C("label",{for:"forecast__start"},"Start Date",-1)),Ig={class:"forecast__date"},Rg=St(()=>C("label",{for:"forecast__start"},"End Date",-1)),qg={class:"forecast__amount"},Fg=St(()=>C("label",{for:"forecast__employees"},"Number of Employees",-1)),Pg={class:"forecast__amount"},Yg=St(()=>C("label",{for:"forecast__days"},"Number of Days",-1)),Hg={class:"forecast__range"},zg=St(()=>C("label",{for:"forecast__range"},"First Quarter",-1)),Vg={class:"forecast__range"},Bg=St(()=>C("label",{for:"forecast__range"},"Second Quarter",-1)),Wg={class:"forecast__range"},Xg=St(()=>C("label",{for:"forecast__range"},"Third Quarter",-1)),Gg={class:"forecast__range"},Zg=St(()=>C("label",{for:"forecast__range"},"Fourth Quarter",-1)),Qg=Qo("Forecast"),jg=St(()=>C("div",{class:"forecast__title"},"Test Forecast Output",-1)),Kg=St(()=>C("div",{class:"forecast__placeholder"},"Forecast using test data will show up here.",-1)),Jg=[Kg],tm=Mi({__name:"ForecastTest",setup(t){const e=Ko(),{startDate:n,endDate:r,testEmployees:i,testDays:a,qOneLower:o,qOneUpper:f,qTwoLower:c,qTwoUpper:s,qThreeLower:u,qThreeUpper:l,qFourLower:d,qFourUpper:h}=zr(e),b=Bo();function p(){return{qOneLower:o.value,qOneUpper:f.value,qTwoLower:c.value,qTwoUpper:s.value,qThreeLower:u.value,qThreeUpper:l.value,qFourLower:d.value,qFourUpper:h.value}}function g(){const w=p(),_=gl(w,i.value,a.value);console.log(_);const T=new brain.NeuralNetwork,v=T.train(_);console.log(v);const x=[];return Jo(n.value,r.value).forEach(U=>{const A=T.run([parseInt(U.substring(0,2))/12,parseInt(U.substring(3,5))/31]),F="2022-"+U;x.push({Date:F,Count:A[0]*i.value})}),x}function m(){var T,v,x,k,U;const w=g();console.log(w);const _=ba({x:{type:"utc"},y:{grid:!0},marks:[ul(w,{x:"Date",y:"Count"})],width:900,height:562.5});(T=b.value)!=null&&T.firstChild?((x=b.value)==null||x.removeChild((v=b.value)==null?void 0:v.firstChild),(k=b.value)==null||k.appendChild(_)):(U=b.value)==null||U.appendChild(_)}return(w,_)=>{const T=Wo("base-button");return Ti(),$i("div",Eg,[Ug,C("div",Lg,[Og,et(C("input",{type:"date","onUpdate:modelValue":_[0]||(_[0]=v=>it(n)?n.value=v:null),id:"forecast__start"},null,512),[[nt,rt(n)]])]),C("div",Ig,[Rg,et(C("input",{type:"date","onUpdate:modelValue":_[1]||(_[1]=v=>it(r)?r.value=v:null),id:"forecast__end"},null,512),[[nt,rt(r)]])]),C("div",qg,[Fg,et(C("input",{type:"number","onUpdate:modelValue":_[2]||(_[2]=v=>it(i)?i.value=v:null),id:"forecast__employees"},null,512),[[nt,rt(i)]])]),C("div",Pg,[Yg,et(C("input",{type:"number","onUpdate:modelValue":_[3]||(_[3]=v=>it(a)?a.value=v:null),id:"forecast__days"},null,512),[[nt,rt(a)]])]),C("div",Hg,[zg,et(C("input",{type:"number","onUpdate:modelValue":_[4]||(_[4]=v=>it(o)?o.value=v:null),id:"forecast__range"},null,512),[[nt,rt(o)]]),et(C("input",{type:"number","onUpdate:modelValue":_[5]||(_[5]=v=>it(f)?f.value=v:null),id:"forecast__range"},null,512),[[nt,rt(f)]])]),C("div",Vg,[Bg,et(C("input",{type:"number","onUpdate:modelValue":_[6]||(_[6]=v=>it(c)?c.value=v:null),id:"forecast__range"},null,512),[[nt,rt(c)]]),et(C("input",{type:"number","onUpdate:modelValue":_[7]||(_[7]=v=>it(s)?s.value=v:null),id:"forecast__range"},null,512),[[nt,rt(s)]])]),C("div",Wg,[Xg,et(C("input",{type:"number","onUpdate:modelValue":_[8]||(_[8]=v=>it(u)?u.value=v:null),id:"forecast__range"},null,512),[[nt,rt(u)]]),et(C("input",{type:"number","onUpdate:modelValue":_[9]||(_[9]=v=>it(l)?l.value=v:null),id:"forecast__range"},null,512),[[nt,rt(l)]])]),C("div",Gg,[Zg,et(C("input",{type:"number","onUpdate:modelValue":_[10]||(_[10]=v=>it(d)?d.value=v:null),id:"forecast__range"},null,512),[[nt,rt(d)]]),et(C("input",{type:"number","onUpdate:modelValue":_[11]||(_[11]=v=>it(h)?h.value=v:null),id:"forecast__range"},null,512),[[nt,rt(h)]])]),Tn(T,{onClick:m,mode:"dark"},{default:Xo(()=>[Qg]),_:1}),jg,C("div",{class:"forecast__display",ref_key:"display",ref:b},Jg,512)])}}});var em=Vo(tm,[["__scopeId","data-v-df93a978"]]);const Ue=t=>(Go("data-v-300f24b8"),t=t(),Zo(),t),nm={class:"forecast__actual"},rm=Ue(()=>C("div",{class:"forecast__title"},"Actual Forecast",-1)),im={class:"forecast__date"},am=Ue(()=>C("label",{for:"forecast__start"},"Start Date",-1)),om={class:"forecast__date"},fm=Ue(()=>C("label",{for:"forecast__start"},"End Date",-1)),cm={class:"forecast__amount"},sm=Ue(()=>C("label",{for:"forecast__employees"},"Number of Employees",-1)),um=Qo("Forecast"),lm=Ue(()=>C("div",{class:"forecast__title"},"Actual Forecast Output",-1)),dm=Ue(()=>C("div",{class:"forecast__placeholder"},"Forecast using actual data will show up here.",-1)),hm=[dm],pm=Mi({__name:"ForecastActual",setup(t){const e=dl(),n=Ko(),{token:r}=zr(e),{tickets:i,actualStart:a,actualEnd:o,actualEmployees:f}=zr(n),c=Bo();async function s(){const h=await hl("/api/tickets",r.value);i.value=h}function u(){const d=ml(i.value,f.value);console.log(d);const h=new brain.NeuralNetwork,b=h.train(d);console.log(b);const p=[];return Jo(a.value,o.value).forEach(m=>{const w=h.run([parseInt(m.substring(0,2))/12,parseInt(m.substring(3,5))/31]),_="2022-"+m;p.push({Date:_,Count:w[0]*f.value})}),p}function l(){var b,p,g,m,w;const d=u();console.log(d);const h=ba({x:{type:"utc"},y:{grid:!0},marks:[ul(d,{x:"Date",y:"Count"})],width:900,height:562.5});(b=c.value)!=null&&b.firstChild?((g=c.value)==null||g.removeChild((p=c.value)==null?void 0:p.firstChild),(m=c.value)==null||m.appendChild(h)):(w=c.value)==null||w.appendChild(h)}return jo(()=>{s()}),(d,h)=>{const b=Wo("base-button");return Ti(),$i("div",nm,[rm,C("div",im,[am,et(C("input",{type:"date","onUpdate:modelValue":h[0]||(h[0]=p=>it(a)?a.value=p:null),id:"forecast__start"},null,512),[[nt,rt(a)]])]),C("div",om,[fm,et(C("input",{type:"date","onUpdate:modelValue":h[1]||(h[1]=p=>it(o)?o.value=p:null),id:"forecast__end"},null,512),[[nt,rt(o)]])]),C("div",cm,[sm,et(C("input",{type:"number","onUpdate:modelValue":h[2]||(h[2]=p=>it(f)?f.value=p:null),id:"forecast__employees"},null,512),[[nt,rt(f)]])]),Tn(b,{onClick:l,mode:"dark"},{default:Xo(()=>[um]),_:1}),lm,C("div",{class:"forecast__display",ref_key:"display",ref:c},hm,512)])}}});var bm=Vo(pm,[["__scopeId","data-v-300f24b8"]]);const _m={class:"forecast"},ym=Mi({__name:"ForecastView",setup(t){return jo(()=>{ma.start()}),pl(()=>{ma.done()}),(e,n)=>(Ti(),$i("section",_m,[Tn(em),Tn(bm)]))}});export{ym as default};
